<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.13" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.48" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://absx.pages.dev/articles/linux/basic.html"><meta property="og:site_name" content="绝对值_x 的博客"><meta property="og:title" content="基础"><meta property="og:description" content="基础 我建议仔细看看 The Missing的前几章，比较到位，免去了自己折腾之苦（本人亲身体会）。 Linux ls -al 得到的结果代表什么意思？ [Y/n] 可以直接回车表示确认。Y 大写表示默认。(ref) awk 是一门（图灵完备的）语言(ref)，。 linux 可执行文件没有后缀；可以用 detect-it-easy-bin Termi..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-12-14T17:34:14.000Z"><meta property="article:tag" content="Linux"><meta property="article:tag" content="桌面端"><meta property="article:published_time" content="2023-10-28T00:00:00.000Z"><meta property="article:modified_time" content="2024-12-14T17:34:14.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"基础","image":[""],"datePublished":"2023-10-28T00:00:00.000Z","dateModified":"2024-12-14T17:34:14.000Z","author":[]}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-MKRDBH1ZP1"></script><script><!-- Google tag (gtag.js) -->
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MKRDBH1ZP1');</script><link rel="icon" href="/logo.jpg" sizes="706x706"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/logo.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/logo.jpg"><meta name="msapplication-TileColor" content="#46bd87"><link rel="alternate" type="application/rss+xml" href="https://absx.pages.dev/rss.xml" title="绝对值_x 的博客 RSS Feed"><title>基础 | 绝对值_x 的博客</title><meta name="description" content="基础 我建议仔细看看 The Missing的前几章，比较到位，免去了自己折腾之苦（本人亲身体会）。 Linux ls -al 得到的结果代表什么意思？ [Y/n] 可以直接回车表示确认。Y 大写表示默认。(ref) awk 是一门（图灵完备的）语言(ref)，。 linux 可执行文件没有后缀；可以用 detect-it-easy-bin Termi...">
    <link rel="preload" href="/assets/style-Drn-6Cve.css" as="style"><link rel="stylesheet" href="/assets/style-Drn-6Cve.css">
    <link rel="modulepreload" href="/assets/app--m3vMTCj.js"><link rel="modulepreload" href="/assets/basic.html-D59WAbBn.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon pure has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.jpg" alt><!----><span class="vp-site-name hide-in-pad">绝对值_x 的博客</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/coding/" aria-label="编程"><!--[--><span class="font-icon icon fas fa-code" style=""></span><!--]-->编程<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="爱好"><!--[--><span class="font-icon icon fas fa-heart" style=""></span>爱好<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">游戏</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/galgame.html" aria-label="galgame"><!--[--><span class="font-icon icon fas fa-plane" style=""></span><!--]-->galgame<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/rhythm_games.html" aria-label="音游"><!--[--><span class="font-icon icon fas fa-keyboard" style=""></span><!--]-->音游<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/Minecraft.html" aria-label="我的世界"><!--[--><span class="font-icon icon fas fa-tree" style=""></span><!--]-->我的世界<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/other_games/" aria-label="其他游戏"><!--[--><span class="font-icon icon fas fa-gamepad" style=""></span><!--]-->其他游戏<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">艺术</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/books.html" aria-label="读书"><!--[--><span class="font-icon icon fas fa-book-open-reader" style=""></span><!--]-->读书<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/anime.html" aria-label="番剧"><!--[--><span class="font-icon icon fas fa-play" style=""></span><!--]-->番剧<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/art.html" aria-label="其他艺术形式"><!--[--><span class="font-icon icon fas fa-palette" style=""></span><!--]-->其他艺术形式<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/NSFW/" aria-label="NSFW"><!--[--><span class="font-icon icon fas fa-h" style=""></span><!--]-->NSFW<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">其他</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/hobbies/snack.html" aria-label="零食区"><!--[--><span class="font-icon icon fas fa-cookie-bite" style=""></span><!--]-->零食区<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="杂项"><!--[--><span class="font-icon icon fas fa-plus" style=""></span>杂项<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/farraginous/recommend_packages.html" aria-label="软件汇总"><!--[--><span class="font-icon icon fas fa-cube" style=""></span><!--]-->软件汇总<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/farraginous/recommend_websites.html" aria-label="网址汇总"><!--[--><span class="font-icon icon fas fa-earth-asia" style=""></span><!--]-->网址汇总<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/farraginous/college.html" aria-label="校内专栏"><!--[--><span class="font-icon icon fas fa-graduation-cap" style=""></span><!--]-->校内专栏<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/farraginous/reciter.html" aria-label="背词器"><!--[--><span class="font-icon icon fas fa-eye" style=""></span><!--]-->背词器<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/articles/" aria-label="文章"><!--[--><span class="font-icon icon fas fa-blog" style=""></span><!--]-->文章<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/learning/" aria-label="学习"><!--[--><span class="font-icon icon fas fa-pen" style=""></span><!--]-->学习<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/gossip/" aria-label="闲聊"><!--[--><span class="font-icon icon fas fa-comment" style=""></span><!--]-->闲聊<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/essay/" aria-label="随笔"><!--[--><span class="font-icon icon fas fa-newspaper" style=""></span><!--]-->随笔<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/" aria-label="博客"><!--[--><span class="font-icon icon fas fa-blog" style=""></span><!--]-->博客<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/lxl66566/lxl66566.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item vp-action"><a class="vp-action-link" href="https://t.me/ab5_x" target="_blank" rel="noopener noreferrer" aria-label="telegram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z" fill="currentColor"></path></svg></a></div><div class="nav-item vp-action"><a class="vp-action-link" href="/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="telegram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M320.16155 831.918c0 70.738-57.344 128.082-128.082 128.082S63.99955 902.656 63.99955 831.918s57.344-128.082 128.082-128.082 128.08 57.346 128.08 128.082z m351.32 94.5c-16.708-309.2-264.37-557.174-573.9-573.9C79.31155 351.53 63.99955 366.21 63.99955 384.506v96.138c0 16.83 12.98 30.944 29.774 32.036 223.664 14.568 402.946 193.404 417.544 417.544 1.094 16.794 15.208 29.774 32.036 29.774h96.138c18.298 0.002 32.978-15.31 31.99-33.58z m288.498 0.576C943.19155 459.354 566.92955 80.89 97.00555 64.02 78.94555 63.372 63.99955 77.962 63.99955 96.032v96.136c0 17.25 13.67 31.29 30.906 31.998 382.358 15.678 689.254 322.632 704.93 704.93 0.706 17.236 14.746 30.906 31.998 30.906h96.136c18.068-0.002 32.658-14.948 32.01-33.008z" fill="currentColor"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/articles/linux/" aria-label="linux"><!--[--><span class="font-icon icon fas fa-brands fa-linux" style=""></span><!--]-->linux<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/articles/linux/basic.html" aria-label="基础"><!--[--><span class="font-icon icon fas fa-microchip" style=""></span><!--]-->基础<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/articles/linux/install_and_config.html" aria-label="安装与配置（Arch 篇）"><!--[--><span class="font-icon icon fas fa-archway" style=""></span><!--]-->安装与配置（Arch 篇）<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/articles/linux/nix.html" aria-label="安装与配置（NixOS 篇）"><!--[--><span class="font-icon icon fas fa-regular fa-snowflake" style=""></span><!--]-->安装与配置（NixOS 篇）<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/articles/linux/openwrt.html" aria-label="OpenWRT"><!--[--><span class="font-icon icon fas fa-wifi" style=""></span><!--]-->OpenWRT<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/articles/linux/package.html" aria-label="包管理与使用推荐"><!--[--><span class="font-icon icon fas fa-cubes" style=""></span><!--]-->包管理与使用推荐<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/articles/linux/problem.html" aria-label="遇到的问题"><!--[--><span class="font-icon icon fas fa-regular fa-circle-xmark" style=""></span><!--]-->遇到的问题<!----></a></li></ul><!----></aside><!--[--><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fas fa-microchip" style=""></span>基础</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-10-28T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 8 分钟</span><meta property="timeRequired" content="PT8M"></span><span class="page-category-info" aria-label="分类"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item clickable" role="navigation">教程</span><!--]--><meta property="articleSection" content="教程"></span><span class="page-tag-info" aria-label="标签"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item clickable" role="navigation">Linux</span><span class="page-tag-item clickable" role="navigation">桌面端</span><!--]--><meta property="keywords" content="Linux,桌面端"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#terminal-shortcuts">Terminal shortcuts</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#posix-指令">POSIX 指令</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#sed">sed</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#grep">grep</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#find">find</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#xargs">xargs</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#sudo">sudo</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#文件系统-fs">文件系统(fs)</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#btrfs">btrfs</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#链接">链接</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#调整大小">调整大小</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#混成器">混成器</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#为什么我不使用-wayland">为什么我不使用 Wayland？</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#服务">服务</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#基本概念">基本概念</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#常用指令-1">常用指令</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#wsl2">WSL2</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#日志">日志</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#desktop">.desktop</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#文件传输">文件传输</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#external">external</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="基础" tabindex="-1"><a class="header-anchor" href="#基础"><span>基础</span></a></h1><ol><li>我建议仔细看看 <a href="https://missing-semester-cn.github.io/" target="_blank" rel="noopener noreferrer">The Missing</a>的前几章，比较到位，<strong>免去了自己折腾之苦</strong>（本人亲身体会）。</li><li><a href="https://zhuanlan.zhihu.com/p/495554731" target="_blank" rel="noopener noreferrer">Linux ls -al 得到的结果代表什么意思？</a></li><li><code>[Y/n]</code> 可以直接回车表示确认。<code>Y</code> 大写表示默认。(<a href="https://t.me/archlinuxcn_group/2950979" target="_blank" rel="noopener noreferrer">ref</a>)</li><li>awk 是一门（图灵完备的）语言(<a href="https://luoxu.archlinuxcn.org/#g=1031857103&amp;q=awk+%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener noreferrer">ref</a>)，<s>但我从不用 awk</s>。</li><li>linux 可执行文件没有后缀；可以用 <code>detect-it-easy-bin</code> <span class="vp-badge info" style="">AUR</span> 查看任意文件的类型。</li></ol><h2 id="terminal-shortcuts" tabindex="-1"><a class="header-anchor" href="#terminal-shortcuts"><span>Terminal shortcuts</span></a></h2><p><code>&lt;C-a&gt;</code> 代表 <code>Ctrl + a</code>.</p><!-- prettier-ignore --><table><thead><tr><th style="text-align:center;">按键</th><th style="text-align:center;">执行</th></tr></thead><tbody><tr><td style="text-align:center;"><code>&lt;C-a&gt;</code></td><td style="text-align:center;">移动光标到最前</td></tr><tr><td style="text-align:center;"><code>&lt;C-LEFT&gt;</code> &amp; <code>&lt;C-LEFT&gt;</code></td><td style="text-align:center;">移动光标到上 / 下一个单词</td></tr><tr><td style="text-align:center;"><code>&lt;C-w&gt;</code></td><td style="text-align:center;">删除前一个单词</td></tr><tr><td style="text-align:center;"><code>&lt;C-u&gt;</code></td><td style="text-align:center;">清空光标前输入</td></tr></tbody></table><p>您还可以查看<a href="https://effective-shell.com/part-2-core-skills/fly-on-the-command-line" target="_blank" rel="noopener noreferrer">本文</a>获取更多实用 shortcuts。</p><h2 id="posix-指令" tabindex="-1"><a class="header-anchor" href="#posix-指令"><span>POSIX 指令</span></a></h2><blockquote><p>不是系统性描述，更多是一些 tricks 和踩坑；可能不是最简，欢迎指正。</p></blockquote><h3 id="sed" tabindex="-1"><a class="header-anchor" href="#sed"><span>sed</span></a></h3><ul><li>sed 正则表达式的 <code>{}</code> 需要转义 <code>\{\}</code>，否则需要使用 <code>sed -r</code>（maybe <code>alias sed=&#39;sed -r&#39;</code> ?）</li><li>冷知识：sed（和 awk）都是图灵完备的语言。</li></ul><h3 id="grep" tabindex="-1"><a class="header-anchor" href="#grep"><span>grep</span></a></h3><ul><li>grep 不支持贪婪匹配 <code>.*?</code>，需要的话要 <code>grep -P</code> (<code>--perl-regexp</code>)</li></ul><h3 id="find" tabindex="-1"><a class="header-anchor" href="#find"><span>find</span></a></h3><ul><li>末尾的 <code>\;</code> 的作用是声明了 <code>-exec</code> 的结尾。</li><li>众所周知如果要删除当前目录中的所有文件，排除目录，可以直接 <code>rm *</code>。若我要反过来，只删除目录而排除文件呢？<div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -maxdepth</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -mindepth</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> d</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -exec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {}</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># OR `find . -maxdepth 1 -mindepth 1 -type d -print0 | xargs -0 rm -r`</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>复制目录下所有文件，除了其中一个：<div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -maxdepth</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -mindepth</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> !</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;exclude.*&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -exec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> {}</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> to_dir</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><p>通过这些例子，应该就能基本上手 <code>find</code> 了。</p><h3 id="xargs" tabindex="-1"><a class="header-anchor" href="#xargs"><span>xargs</span></a></h3><p>将管道前的值传入后面的语句的<strong>最后方</strong>。</p><h3 id="sudo" tabindex="-1"><a class="header-anchor" href="#sudo"><span>sudo</span></a></h3><ul><li><code>sudo nvim</code> 相当于切换到 root 用户空间，无法使用用户 nvim 配置。然而 <code>sudo -e</code> 编辑文件，相当于在用户空间编辑完后覆盖回去，是可以用用户配置的。</li></ul><h2 id="文件系统-fs" tabindex="-1"><a class="header-anchor" href="#文件系统-fs"><span>文件系统(fs)</span></a></h2><blockquote><p>事实上文件系统的内容非常之大，这里主要还是偏向磁盘文件系统的应用方向的。</p></blockquote><p>ext4 是许多 linux 的默认 fs，有的 archlinux 教程也使用 ext4，我使用 btrfs，除此之外常用的文件系统还有 zfs, xfs, bcachefs 等。这里着重讲 btrfs。（其他的我都没用过啊</p><blockquote><p><a href="https://t.me/archlinuxcn_group/2949935" target="_blank" rel="noopener noreferrer">有前辈说</a>了一些 zfs 的优势。 xfs 比较适合数据库使用，并发写性能好 (<a href="https://t.me/archlinuxcn_group/2963733" target="_blank" rel="noopener noreferrer">ref</a>)</p></blockquote><h3 id="btrfs" tabindex="-1"><a class="header-anchor" href="#btrfs"><span>btrfs</span></a></h3><p>对于一个用惯 windows ntfs 的人来说，btrfs <span class="heimu" title="你知道的太多了">as well as 现代文件系统</span>一定能让他眼前一亮。（文章参考 <a href="#external">external</a> 1.）</p><ol><li>CoW(写时复制)</li><li>透明压缩</li><li>快照</li><li>只有 btrfs 能 online shrink (<a href="https://t.me/archlinuxcn_group/2996595" target="_blank" rel="noopener noreferrer">ref</a>)</li></ol><p>目前 btrfs 比起其他现代文件系统，缺的只是 raid5/6 支持和加密；但是其使用难度比很多其他 fs 低多了。</p><p>使用 btrfs 有一些坑需要注意：</p><ol><li>由于 CoW，使用 <code>du</code> 查看磁盘空间可能不准确，需要使用：<code>btrfs fi usage /</code>.</li><li>由于 CoW + 快照，操作数据库的时候需要小心，尽可能不要将数据库加入快照备份区（可以使用其他子卷存放）。</li></ol><h4 id="常用指令" tabindex="-1"><a class="header-anchor" href="#常用指令"><span>常用指令</span></a></h4><ul><li><code>btrfs fi us /</code>：查看已用大小</li><li><code>sudo btrfs scrub start /</code> &amp;&amp; <code>btrfs scrub status /</code>：检查 checksum</li></ul><h4 id="工具" tabindex="-1"><a class="header-anchor" href="#工具"><span>工具</span></a></h4><p><a href="https://github.com/knorrie/btrfs-heatmap" target="_blank" rel="noopener noreferrer">btrfs-heatmap</a> 可以看 bg 的大小与碎片分布 (<a href="https://blog.lilydjwg.me/2023/7/25/btrfs-metadata-full.216670.html" target="_blank" rel="noopener noreferrer">src</a>)。</p><h4 id="互操作" tabindex="-1"><a class="header-anchor" href="#互操作"><span>互操作</span></a></h4><p>互操作能极大提升多系统使用体验。<span class="heimu" title="你知道的太多了">ext4 从 windows 访问根本没啥好用工具</span></p><p>众所周知 windows 默认使用它那 ntfs 已经很久了，并且默认没有 btrfs 支持。而双系统经常需要进行文件的互访问。linux 默认可读 ntfs，写入则只需安装 <code>ntfs-3g</code> 即可。而 windows 访问 btrfs 也非常简单。</p><ol><li><a href="https://github.com/maharmstone/btrfs" target="_blank" rel="noopener noreferrer">安装 Winbtrfs</a></li><li>此时已经可以在资源管理器中访问了。</li><li>默认挂载是读写的，我比较建议改为只读，降低出现问题的概率。<a href="https://github.com/maharmstone/btrfs#mount-options" target="_blank" rel="noopener noreferrer">在这里</a>可以进行一些设置，重启生效。</li></ol><p>事实上，<em>winbtrfs</em> 与 <em>ntfs-3g</em> 都不能保证一定不会出问题（有一些群友被坑过）。所以建议都只读不写。</p><p>还有，windows 蓝屏可能会炸硬盘，导致 windows 能读，linux 挂不上。ntfs 炸了就无脑用 chkdsk 修就行。</p><h3 id="链接" tabindex="-1"><a class="header-anchor" href="#链接"><span>链接</span></a></h3><p>分为硬链接和软链接。硬链接文件共享相同的 inode 值，指向同一份文件，因此是同步更新。软链接就是快捷方式。</p><blockquote><p>软链接和快捷方式本质是相同的，但还有一些细微的差别，比如 lnk 还会存 description, icon...</p></blockquote><p>git 内添加链接指向的文件需要手动 <code>git add -f</code>。</p><h3 id="调整大小" tabindex="-1"><a class="header-anchor" href="#调整大小"><span>调整大小</span></a></h3><p>我们日常使用中可能会遇到需要调整分区大小的情况。实际上我们的意思一般是“调整分区和其上的 fs 大小，并保持调整后它们的大小仍然相等”。由于 fs 在分区上层，一般来说，我们需要：</p><ul><li>扩大容量：先扩大分区，再扩大 fs</li><li>缩小容量：先缩小 fs，再缩小分区</li></ul><p>否则会发生数据丢失。</p><p>还有一个注意点是分区的对齐。由于 fs 的元数据（superblock）一般在分区最前面，缩小 fs 和分区默认都是从后方缩小，可能缩小腾出的空间并没有办法给前方分区使用。</p><p>对于 btrfs，我们可以很方便地在线调整 fs 大小，无需使用启动盘 mount。搜索 <code>btrfs fi resize</code> 获取教程。调整大小前建议先清理一下快照，跑一次 balance。</p><h2 id="混成器" tabindex="-1"><a class="header-anchor" href="#混成器"><span>混成器</span></a></h2><p>混成器是向实际屏幕绘制的抽象层，提供了接口供 UI 软件调用。更多混成器相关知识可以看 farseerfc 的两篇博文(<a href="https://farseerfc.me/zhs/brief-history-of-compositors-in-desktop-os.html" target="_blank" rel="noopener noreferrer">1</a> <a href="https://farseerfc.me/zhs/compositor-in-X-and-compositext.html" target="_blank" rel="noopener noreferrer">2</a>)。</p><p>目前广泛使用的 linux 混成器有 X11 和 Wayland，其中 X11 已宣布停止维护。</p><h3 id="为什么我不使用-wayland" tabindex="-1"><a class="header-anchor" href="#为什么我不使用-wayland"><span>为什么我不使用 Wayland？</span></a></h3><p>现在谈到混成器，Wayland 几乎成为了“政治正确”的代言，许多发行版也将默认混成器换为 Wayland（例如 Fedora）。但是我一直都是坚定的 X11 人。</p><ul><li>最让我无法接受的是 Wayland 协议下无法获取当前窗口标题，这直接导致了 <a href="https://github.com/ActivityWatch/activitywatch/issues/92" target="_blank" rel="noopener noreferrer">activitywatch 无法使用</a>，而这是我的刚需。</li><li>某些软件的 Wayland 协议适配差，例如 <em>腾讯会议</em>（摄像头无法使用）。 <ul><li>远程桌面基本上用不了。(<a href="https://luoxu.archlinuxcn.org/#g=1031857103&amp;q=wayland+%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2" target="_blank" rel="noopener noreferrer">ref</a>)</li></ul></li></ul><h2 id="服务" tabindex="-1"><a class="header-anchor" href="#服务"><span>服务</span></a></h2><p>与 windows <em>service</em> 的概念相通。</p><ul><li>service 是由 <a href="https://wiki.archlinux.org/title/systemd" target="_blank" rel="noopener noreferrer">systemd</a> 支持的，而现在几乎所有的发行版都基于 systemd，因此什么老发行版的 <code>service</code> 指令就不用看了，用 <code>systemctl</code> 就行了。</li><li>查看服务的输出（stdout/stderr），一般在 status 里会有几条，也可以前往<a href="#%E6%97%A5%E5%BF%97">日志</a>查看。</li></ul><details class="hint-container details"><summary>老版 service 命令内容</summary><p>虽然我这里说不用看，但是还是有一些傻逼发行版，比如 OpenWRT 会用。而且还带了很多坑。</p><ul><li>服务定义在 <code>/etc/init.d/xxx</code>，每个服务都是一个 bash 脚本。 <ul><li>bash 脚本里面可能会用一些发行版限定的函数。OpenWRT 的服务请跳转 <a class="route-link" href="/articles/linux/openwrt.html#%E6%9C%8D%E5%8A%A1">OpenWRT</a>。</li></ul></li></ul></details><h3 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h3><p>每个服务（unit）是一个 <code>.service</code> 文件，存放在不同位置：</p><ul><li><p><code>/usr/lib/systemd/system/</code>：由软件安装的服务</p></li><li><p><code>/etc/systemd/system</code>：系统用户写的服务（优先级最高）</p></li><li><p><code>~/.config/systemd/user</code>：普通用户写的服务，需要 <code>--user</code></p></li><li><p><code>xxx@.service</code> 是一个 template unit，不能直接启动，而是需要传入一个 string，作为 <code>xxx@something.service</code> 启动。string 的含义需要自己看 service 内容。</p></li></ul><h3 id="常用指令-1" tabindex="-1"><a class="header-anchor" href="#常用指令-1"><span>常用指令</span></a></h3><p><code>systemctl &lt;operation&gt; &lt;service_name&gt;</code>，无需打 <code>.service</code> 全名。</p><ul><li><code>systemctl</code> 默认操作的是全局作用域（系统服务），加上 <code>--user</code> 是用户作用域。用户作用域服务不需要 root 权限。</li><li><code>status</code> 是查看服务运行状态，用得最多的。</li><li><code>start</code> &amp; <code>stop</code>，启动和暂停，不多说</li><li><code>enable</code> &amp; <code>disable</code>，设置是否开机自启 <ul><li><code>enable --now</code> == <code>enable</code> + <code>start</code></li></ul></li><li><code>mask</code> （深度）禁用。</li><li><code>edit</code> 是编辑服务，可以查看服务的代码。</li></ul><h3 id="wsl2" tabindex="-1"><a class="header-anchor" href="#wsl2"><span>WSL2</span></a></h3><p>WSL2(ArchWSL) 由于不从 systemd 启动，导致无法使用 <code>systemctl</code> 管理服务。</p><p>解法是有一个 python 实现的 <a href="https://github.com/gdraheim/docker-systemctl-replacement" target="_blank" rel="noopener noreferrer">docker-systemctl-replacement</a>，可以代替(?) <code>systemctl</code> 的功能。(<a href="https://github.com/yuk7/ArchWSL/issues/20" target="_blank" rel="noopener noreferrer">ref</a>)</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://raw.githubusercontent.com/gdraheim/docker-systemctl-replacement/master/files/docker/systemctl3.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/bin/systemctl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> python</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> /usr/bin/systemctl</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">comman</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="日志" tabindex="-1"><a class="header-anchor" href="#日志"><span>日志</span></a></h2><ul><li><code>journalctl</code> 用于查看系统日志。 <ul><li><code>journalctl -u &lt;service_name&gt;</code> 查看服务日志</li><li>我个人喜欢用 <code>journalctl -exu &lt;service_name&gt;</code>，<code>-e</code> 是直接跳转到末尾（最新日志），<code>-x</code> 是显示更加详细的帮助信息，对 warning 和 error 比较友好。</li></ul></li><li><code>dmesg</code> 用于查看内核消息。</li></ul><h2 id="desktop" tabindex="-1"><a class="header-anchor" href="#desktop"><span>.desktop</span></a></h2><p>许多软件安装后可以在 krunner 中直接运行，实际上就是读取了 <em>.desktop file</em>。</p><p>软件的 <em>.desktop file</em> 一般保存在 <code>~/.local/share/applications</code>。</p><p><em>.desktop file</em> 理解为启动脚本。只要随便打开看一个就懂了。</p><div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" data-title="toml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Desktop</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Entry</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=e</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">vince</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Comment</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=e</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">vince pdf reader</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=A</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">pplication</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Exec</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=e</span><span style="--shiki-light:#B31D28;--shiki-dark:#FFFFFF;--shiki-light-font-style:italic;--shiki-dark-font-style:inherit;">vince -o</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Terminal</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里提供一个较小的 <code>.desktop</code> file 示例，若软件不自带，可以考虑自己写个。</p><h2 id="文件传输" tabindex="-1"><a class="header-anchor" href="#文件传输"><span>文件传输</span></a></h2><p>rsync 用于主机之间的文件传输，带有断点恢复等功能，吊打 scp 等。</p><p>我比较推荐 <code>rsync -aviuzP ...</code>。具体什么意思，这里不赘述（RTFM）。</p><h2 id="external" tabindex="-1"><a class="header-anchor" href="#external"><span>external</span></a></h2><ol><li>了解一下 btrfs（注意时效）：<a href="https://www.mivm.cn/linux-btrfs-usage-guide" target="_blank" rel="noopener noreferrer">Linux Btrfs 文件系统使用指南</a></li><li><a href="https://catcat.cc/post/2020-10-31/" target="_blank" rel="noopener noreferrer">Linux fontconfig 的字体匹配机制</a></li><li><a href="https://blog.lilydjwg.me/2023/7/25/btrfs-metadata-full.216670.html" target="_blank" rel="noopener noreferrer">btrfs 元数据满了怎么办</a></li><li>A chapter of <a href="https://github.com/asukaminato0721/PKGBUILD-cookbook/blob/master/launch.md" target="_blank" rel="noopener noreferrer">PKGBUILD-cookbook</a></li><li><a href="https://www.eaimty.com/2020/zfs-file-system/" target="_blank" rel="noopener noreferrer">ZFS ── 瑞士军刀般的文件系统</a></li><li><a href="https://www.ducksoft.site/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/fuck-hdf5-compression-using-btrfs.html" target="_blank" rel="noopener noreferrer">使用 btrfs 提升 HDF5 透明压缩百倍性能</a></li><li>深入原理：<a href="https://farseerfc.me/zhs/btrfs-vs-zfs-difference-in-implementing-snapshots.html" target="_blank" rel="noopener noreferrer">Btrfs vs ZFS 实现 snapshot 的差异</a></li></ol></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><!----></div><!----></div></footer><nav class="vp-page-nav"><a class="route-link route-link-active auto-link prev" href="/articles/linux/" aria-label="linux"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon fas fa-brands fa-linux" style=""></span>linux</div></a><a class="route-link auto-link next" href="/articles/linux/install_and_config.html" aria-label="安装与配置（Arch 篇）"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">安装与配置（Arch 篇）<span class="font-icon icon fas fa-archway" style=""></span></div></a></nav><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!----><!--]--></main><!--]--><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app--m3vMTCj.js" defer></script>
  </body>
</html>
