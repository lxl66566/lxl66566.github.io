import{l as b,m as s,T as g,a0 as f,_ as E,e as x,o as _,g as p,i as y,a1 as v,p as C,j as k,k as w,a2 as m,a3 as z,a4 as I}from"./app-T5CVgoj6.js";function R(t,o){let a;return(...e)=>{a!==void 0&&clearTimeout(a),a=setTimeout(()=>{t.apply(this,e)},o)}}const S=b({__name:"ExpandableListItem",props:{extra_tr_class:{},expandable:{type:Boolean}},setup(t,{expose:o}){o();const a=t,e=s(null),r=s("none"),n=s(!1),l=s(0),d=s(null),h=async()=>{a.expandable&&(n.value=!n.value,await f(),n.value&&d.value?l.value=d.value.offsetHeight:l.value=0)},c=R(()=>{if(e.value){const i=e.value.offsetWidth;r.value=`${i}px`}},500);g(()=>{window.addEventListener("resize",c),f(()=>{var i;n.value&&(l.value=((i=d.value)==null?void 0:i.offsetHeight)||0),c()})});const u={props:a,trRef:e,calculatedMaxWidth:r,isExpanded:n,expandedHeight:l,expandContentRef:d,toggleExpand:h,handleResize:c};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),T={ref:"expandContentRef"};function W(t,o,a,e,r,n){return _(),x(I,null,[p("tr",{onClick:e.toggleExpand,class:C(["list-item",[...e.props.extra_tr_class||[],{expanded:e.isExpanded,expandable:e.props.expandable}]]),ref:"trRef"},[v(t.$slots,"list-content",{},void 0,!0)],2),y(z,{name:"expand"},{default:k(()=>[e.isExpanded?(_(),x("tr",{key:0,class:"expanded-content",style:m({height:e.expandedHeight+"px"})},[p("td",{colspan:"99",style:m({maxWidth:e.calculatedMaxWidth,overflow:"scroll",boxSizing:"border-box"})},[p("div",T,[v(t.$slots,"expanded-content",{},void 0,!0)],512)],4)],4)):w("v-if",!0)]),_:3})],64)}const H=E(S,[["render",W],["__scopeId","data-v-82aab7f8"],["__file","ExpandableListItem.vue"]]);export{H as E};
