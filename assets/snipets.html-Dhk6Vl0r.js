import{_ as d,e as p,g as i,i as k,h as s,j as h,r as e,o as A}from"./app-fW38OYAJ.js";const g={};function y(B,l){const n=e("CodeTabs"),r=e("RouteLink");return A(),p("div",null,[l[21]||(l[21]=i("h1",{id:"snipets",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#snipets"},[i("span",null,"snipets")])],-1)),l[22]||(l[22]=i("p",null,"我在不同系统上使用的不同 shell 的小脚本记录。",-1)),l[23]||(l[23]=i("p",null,"虽然 AI 时代这些 snipets 可能已经变得一文不值，但我还是想纪念一下。",-1)),l[24]||(l[24]=i("h2",{id:"gfixup",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#gfixup"},[i("span",null,"gfixup")])],-1)),l[25]||(l[25]=i("p",null,"我最常用的脚本，没有之一。约等于一个 git-absorb，即将当前的 git 已追踪修改“吸收”到任意 commit（默认为最近的 commit，即 HEAD）。",-1)),l[26]||(l[26]=i("p",null,[s("用法："),i("code",null,"gfixup [git_commit]")],-1)),k(n,{id:"18",data:[{id:"bash"},{id:"nushell"},{id:"fish"}]},{title0:h(({value:a,isActive:t})=>l[0]||(l[0]=[s("bash")])),title1:h(({value:a,isActive:t})=>l[1]||(l[1]=[s("nushell")])),title2:h(({value:a,isActive:t})=>l[2]||(l[2]=[s("fish")])),tab0:h(({value:a,isActive:t})=>l[3]||(l[3]=[i("div",{class:"language-sh line-numbers-mode","data-highlighter":"shiki","data-ext":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"set"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -euxo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," pipefail")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"commit_hash"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"${1"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":-"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"HEAD"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," commit"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -a"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --fixup"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "'),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$commit_hash"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," [ "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$commit_hash"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," ="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "HEAD"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ]; "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"  rebase_target"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"HEAD~2"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"  rebase_target"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#98C379"}},"${"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"commit_hash"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#98C379"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'~1"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"fi")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"GIT_SEQUENCE_EDITOR"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},":"),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," rebase"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -i"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --autosquash"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "'),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$rebase_target"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"')])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:h(({value:a,isActive:t})=>l[4]||(l[4]=[i("div",{class:"language-nushell line-numbers-mode","data-highlighter":"shiki","data-ext":"nushell",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# Creates a fixup commit for a specific commit and autosquashes it via interactive rebase.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# Usage:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"#   gfixup           # Creates a fixup commit for the current HEAD and rebases")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"#   gfixup <hash>    # Creates a fixup commit for <hash> and rebases")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"#")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"def"),i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," gfixup"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ["),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"commit_hash"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"?: "),i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"string"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"'HEAD'"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"] {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," commit"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-light-font-style":"inherit","--shiki-dark":"#C678DD","--shiki-dark-font-style":"italic"}}," -"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"a"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-light-font-style":"inherit","--shiki-dark":"#C678DD","--shiki-dark-font-style":"italic"}}," --"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"fixup"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," $commit_hash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    let"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," rebase_target"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," ="),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," if"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," $commit_hash"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," =="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," 'HEAD'"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," { "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"'HEAD~2'"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," } "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"else"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," { ("),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$commit_hash"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," |"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," str trim"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"+"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "~1"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"    GIT_SEQUENCE_EDITOR"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},":"),i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," rebase"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-light-font-style":"inherit","--shiki-dark":"#C678DD","--shiki-dark-font-style":"italic"}}," -"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"i"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-light-font-style":"inherit","--shiki-dark":"#C678DD","--shiki-dark-font-style":"italic"}}," --"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"autosquash"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," $rebase_target")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab2:h(({value:a,isActive:t})=>l[5]||(l[5]=[i("div",{class:"language-fish line-numbers-mode","data-highlighter":"shiki","data-ext":"fish",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"set"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," commit_hash "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"$argv"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"[1]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," test"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," -z "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#E06C75"}},"$"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"commit_hash"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    set"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," commit_hash "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"'HEAD'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"end")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"git"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," commit -a --fixup "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$commit_hash")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"set"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," rebase_target "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'""')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," test"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," $commit_hash"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"'HEAD'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    set"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," rebase_target "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"'HEAD~2'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"else")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    set"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," rebase_target ("),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"string"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," trim -- "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#E06C75"}},"$"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"commit_hash"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")~1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"end")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"GIT_SEQUENCE_EDITOR"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"=: git rebase -i --autosquash "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$rebase_target")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),l[27]||(l[27]=i("h2",{id:"revertversion",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#revertversion"},[i("span",null,"revertversion")])],-1)),l[28]||(l[28]=i("p",null,"将当前 git 仓库指定 tag 移动到 HEAD（本地 + remote）。主要是我有一堆 action 是 tag 触发的，有时候代码有瑕疵，修完以后需要 rerun，就用这个脚本。",-1)),l[29]||(l[29]=i("p",null,[s("用法："),i("code",null,"rv <tag>"),s("，rv 是 revertversion 的 alias")],-1)),k(n,{id:"38",data:[{id:"bash"},{id:"nushell"}]},{title0:h(({value:a,isActive:t})=>l[6]||(l[6]=[s("bash")])),title1:h(({value:a,isActive:t})=>l[7]||(l[7]=[s("nushell")])),tab0:h(({value:a,isActive:t})=>l[8]||(l[8]=[i("div",{class:"language-sh line-numbers-mode","data-highlighter":"shiki","data-ext":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," [ "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"$#"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," -ne"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ]; "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"  echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "Usage: revertversion <version>"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"  return"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"fi")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "Reverting version '),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"$@"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," push"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," origin"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," :refs/tags/"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"$@")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tag"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -d"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," $@")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tag"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," $@")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," push"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --tags")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:h(({value:a,isActive:t})=>l[9]||(l[9]=[i("div",{class:"language-nushell line-numbers-mode","data-highlighter":"shiki","data-ext":"nushell",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"def"),i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}}," rv"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ["),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"version"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},": "),i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"string"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"] {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' $"Reverting version $version ..."')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," push"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," origin"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' $":refs/tags/('),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$version"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},')"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tag"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-light-font-style":"inherit","--shiki-dark":"#C678DD","--shiki-dark-font-style":"italic"}}," -"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"d"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," $version")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," tag"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," $version")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#C18401","--shiki-dark":"#E5C07B"}},"    git"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," push"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-light-font-style":"inherit","--shiki-dark":"#C678DD","--shiki-dark-font-style":"italic"}}," --"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"tags")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),l[30]||(l[30]=i("h2",{id:"repeat",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#repeat"},[i("span",null,"repeat")])],-1)),l[31]||(l[31]=i("p",null,"重复执行一条命令多次，主要用于暴力测试。它帮我发现了一些运行上千次才会崩溃一次的 bug。",-1)),l[32]||(l[32]=i("p",null,[s("用法："),i("code",null,"repeat <...>")],-1)),k(n,{id:"55",data:[{id:"bash"}]},{title0:h(({value:a,isActive:t})=>l[10]||(l[10]=[s("bash")])),tab0:h(({value:a,isActive:t})=>l[11]||(l[11]=[i("div",{class:"language-sh line-numbers-mode","data-highlighter":"shiki","data-ext":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," [ "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"$#"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," -eq"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ]; "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"  echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "usage: '),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"$0"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' <command> [args...]"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"  exit"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"fi")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"MAX_ATTEMPTS"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"10000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"for"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," (("),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"i"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"i"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<="),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"MAX_ATTEMPTS"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"i"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"++"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")); "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"do")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"  echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "---"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"  echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "第 '),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$i"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," 次尝试: 正在执行 '"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"$@"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`'"`)]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},'  "'),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"$@"),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},'"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"  exit_code"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"$?")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"  if"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," [ "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"${"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"exit_code"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"}"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," -ne"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ]; "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"then")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "---"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "命令在第 '),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$i"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," 次尝试时失败，退出码为 "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#98C379"}},"${"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"exit_code"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#98C379"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'。脚本已停止。"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    exit"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}}," ${"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"exit_code"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#ABB2BF"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"  fi")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"done")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"echo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "命令成功执行了 '),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#98C379"}},"${"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"MAX_ATTEMPTS"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#98C379"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' 次而未失败。"')])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),l[33]||(l[33]=i("h2",{id:"record",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#record"},[i("span",null,"record")])],-1)),l[34]||(l[34]=i("p",null,"record 本质上只算是 script 的一个 alias，用于保存输出到日志。1. record 指令不会影响终端本身输出，并且可以附加一份到日志；2. 如果有一些程序输出不是通过 stdout 或 stderr 的，record 也可以记录下来。",-1)),k(n,{id:"66",data:[{id:"bash"}]},{title0:h(({value:a,isActive:t})=>l[12]||(l[12]=[s("bash")])),tab0:h(({value:a,isActive:t})=>l[13]||(l[13]=[i("div",{class:"language-sh line-numbers-mode","data-highlighter":"shiki","data-ext":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"cmd"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"$("),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"printf"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," '%q '"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "'),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"$@"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"script"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -q"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -c"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "'),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$cmd"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," test.log")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),l[35]||(l[35]=i("h2",{id:"audiofmt",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#audiofmt"},[i("span",null,"audiofmt")])],-1)),i("p",null,[l[15]||(l[15]=s("将任意格式的音频转为固定大小（默认 5MB）的 opus 音频，选择 opus 是因为该格式拥有优秀的压缩比，详见")),k(r,{to:"/coding/audio.html"},{default:h(()=>l[14]||(l[14]=[s("音频处理")])),_:1}),l[16]||(l[16]=s("。主要用于无损格式音频的有损压缩，依赖 ffmpeg。"))]),l[36]||(l[36]=i("p",null,[s("使用方法："),i("code",null,"audiofmt <input_file> [size(MB)]")],-1)),k(n,{id:"80",data:[{id:"python"}]},{title0:h(({value:a,isActive:t})=>l[17]||(l[17]=[s("python")])),tab0:h(({value:a,isActive:t})=>l[18]||(l[18]=[i("div",{class:"language-py line-numbers-mode","data-highlighter":"shiki","data-ext":"py",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," argparse")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," os")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," subprocess")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"import"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," sys")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"def"),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," get_audio_duration"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#D19A66","--shiki-dark-font-style":"italic"}},"file_path"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'    """使用 ffprobe 获取音频文件的时长（秒）"""')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    command "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," [")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "ffprobe"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-v"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "error"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-show_entries"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "format=duration"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-of"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "default=noprint_wrappers=1:nokey=1"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        file_path,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    ]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    try"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        result "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," subprocess."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"run"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(command, "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"capture_output"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"True"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"text"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"True"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"check"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"True"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," float"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(result.stdout."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"strip"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    except"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#ABB2BF"}}," FileNotFoundError"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`            "错误：'ffprobe' 命令未找到。请确保 FFmpeg 已安装并已添加到系统路径中。"`),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"            file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        )")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        sys."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"exit"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    except"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," subprocess.CalledProcessError "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"as"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," e:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"错误：ffprobe 无法获取文件时长。输出：'),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"\\n"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"e.stderr"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        sys."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"exit"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    except"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#ABB2BF"}}," ValueError"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"错误：无法将 ffprobe 的输出解析为浮点数。"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        sys."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"exit"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"def"),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," convert_flac_to_opus"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#D19A66","--shiki-dark-font-style":"italic"}},"input_file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},","),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#D19A66","--shiki-dark-font-style":"italic"}}," target_size_mb"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'    """')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"    将 FLAC 文件转换为指定大小的 Opus 文件。")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'    """')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," not"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," os.path."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"exists"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(input_file):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`"错误：输入文件 '`),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"input_file"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`' 不存在。"`),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    # 1. 获取音频时长")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`"正在分析文件：'`),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"os.path."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"basename"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(input_file)"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`'..."`),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    duration_s "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}}," get_audio_duration"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(input_file)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," not"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," duration_s:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    # 2. 计算所需比特率 (kbps)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    target_size_bytes "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," target_size_mb "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"*"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1024"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," *"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1024")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    # 比特率 (kbps) = (目标大小(Bytes) * 8) / 时长(s) / 1000")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    target_bitrate_k "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}}," int"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"((target_size_bytes "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"*"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 8"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},") "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"/"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," duration_s "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"/"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1000"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    if"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," target_bitrate_k "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"<="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 0"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"错误：计算出的目标比特率过低，请增加目标文件大小。"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        return")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    # 构建输出文件名")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    base_name "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," os.path."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"splitext"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(input_file)["),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"0"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    output_file "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}}," f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"base_name"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'.opus"')]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"  - 音频时长: '),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"duration_s"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},":.2f"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' 秒"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"  - 目标大小: '),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"target_size_mb"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' MB"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"  - 计算比特率: '),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"target_bitrate_k"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' kbps"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`"  - 输出文件: '`),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"os.path."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"basename"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(output_file)"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`'"`),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"    # 3. 构建并执行 ffmpeg 命令")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    command "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," [")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "ffmpeg"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-i"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        input_file,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-c:a"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "libopus"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-b:a"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"        f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"target_bitrate_k"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'k"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-map_metadata"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "0"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",  "),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 复制所有元数据")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "-y"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",  "),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 如果输出文件已存在，则直接覆盖")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        output_file,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    ]")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"\\n"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'正在执行 FFmpeg 命令..."'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"    print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"  '),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"' '"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"join"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(command)"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    try"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        subprocess."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"run"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(command, "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"check"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"True"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"capture_output"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"True"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"text"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"True"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"\\n"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'转换成功！"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"        # 打印实际文件大小以供比较")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        actual_size_mb "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," os.path."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"getsize"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(output_file) "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"/"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ("),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"1024"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," *"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," 1024"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"f"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"实际输出文件大小: '),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"{"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"actual_size_mb"),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},":.2f"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"}"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' MB"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    except"),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#ABB2BF"}}," FileNotFoundError"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},`            "错误：'ffmpeg' 命令未找到。请确保 FFmpeg 已安装并已添加到系统路径中。"`),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"            file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"        )")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"    except"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," subprocess.CalledProcessError "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"as"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," e:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"'),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"\\n"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'FFmpeg 执行出错:"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"        print"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(e.stderr, "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"sys.stderr)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"if"),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}}," __name__"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}}," =="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "__main__"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    parser "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," argparse."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"ArgumentParser"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"        description"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"将无损 FLAC 文件转换为指定大小的有损 Opus 文件。"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"        formatter_class"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"argparse.RawTextHelpFormatter,")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    )")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    parser."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"add_argument"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"("),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"input_file"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},", "),i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"help"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"输入的 FLAC 文件路径。"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    parser."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"add_argument"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'        "target_size"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"        type"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"float"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"        nargs"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"?"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",  "),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 使其成为可选参数")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"        default"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"5.0"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"        help"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"目标输出文件的大小（单位：MB）。'),i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"\\n"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'如果未提供，则默认为 5.0 MB。"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    )")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"    args "),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," parser."),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"parse_args"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#61AFEF"}},"    convert_flac_to_opus"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"(args.input_file, args.target_size)")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),l[37]||(l[37]=i("h2",{id:"make-new-subvolume",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#make-new-subvolume"},[i("span",null,"make_new_subvolume")])],-1)),l[38]||(l[38]=i("p",null,"早期脚本，用于将文件夹转换为 btrfs subvolume，已不再使用",-1)),k(n,{id:"91",data:[{id:"fish"}]},{title0:h(({value:a,isActive:t})=>l[19]||(l[19]=[s("fish")])),tab0:h(({value:a,isActive:t})=>l[20]||(l[20]=[i("div",{class:"language-fish line-numbers-mode","data-highlighter":"shiki","data-ext":"fish",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"set"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," dir "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E5C07B"}},"$argv")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"sudo"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," mv "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$dir"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"{,.bak}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"sudo"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," btrfs subvolume create "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$dir")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"sudo"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," cp --archive --one-file-system --reflink=always "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$dir"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"{.bak/*,}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"sudo"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," rm -r --one-file-system "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"$dir"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"'.bak'")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1})])}const C=d(g,[["render",y],["__file","snipets.html.vue"]]),F=JSON.parse('{"path":"/coding/snipets.html","title":"snipets","lang":"zh-CN","frontmatter":{"date":"2025-09-05T00:00:00.000Z","icon":"burst","category":["推荐"],"tag":["脚本"],"description":"snipets 我在不同系统上使用的不同 shell 的小脚本记录。 虽然 AI 时代这些 snipets 可能已经变得一文不值，但我还是想纪念一下。 gfixup 我最常用的脚本，没有之一。约等于一个 git-absorb，即将当前的 git 已追踪修改“吸收”到任意 commit（默认为最近的 commit，即 HEAD）。 用法：gfixup [...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"snipets\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-09-05T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-08T15:06:06.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://absx.pages.dev/coding/snipets.html"}],["meta",{"property":"og:site_name","content":"绝对值_x 的博客"}],["meta",{"property":"og:title","content":"snipets"}],["meta",{"property":"og:description","content":"snipets 我在不同系统上使用的不同 shell 的小脚本记录。 虽然 AI 时代这些 snipets 可能已经变得一文不值，但我还是想纪念一下。 gfixup 我最常用的脚本，没有之一。约等于一个 git-absorb，即将当前的 git 已追踪修改“吸收”到任意 commit（默认为最近的 commit，即 HEAD）。 用法：gfixup [..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-08T15:06:06.000Z"}],["meta",{"property":"article:tag","content":"脚本"}],["meta",{"property":"article:published_time","content":"2025-09-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-08T15:06:06.000Z"}]]},"git":{"createdTime":1757076318000,"updatedTime":1765206366000,"contributors":[{"name":"lxl66566","username":"lxl66566","email":"lxl66566@gmail.com","commits":4,"url":"https://github.com/lxl66566"}]},"readingTime":{"minutes":4.23,"words":1268},"filePathRelative":"coding/snipets.md","localizedDate":"2025年9月5日","excerpt":"\\n","autoDesc":true}');export{C as comp,F as data};
