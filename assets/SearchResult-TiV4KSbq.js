import{l as K,u as X,m as T,n as Z,p as ee,t as te,q as le,v as H,x as _,y as e,z as ae,w as se,A as ie,R as j,B as re,D as oe,E as ce,F as ne,G as he,H as L,J as $,K as me,L as ge,M as ue,N as de,O as Ee,Q as pe,S as ve,T as ye,U as M,V as Ae,W as x}from"./app-DOOHoYbO.js";const be=["/","/articles/android_player.html","/articles/cli_compress.html","/articles/control.html","/articles/downloaders.html","/articles/external.html","/articles/frp.html","/articles/","/articles/input_method.html","/articles/markdown.html","/articles/minimize_exe.html","/articles/money.html","/articles/note.html","/articles/ocr.html","/articles/pdf_reader.html","/articles/potplayer_setting.html","/articles/ramdisk.html","/articles/reverse_proxy.html","/articles/speedup.html","/articles/telegram.html","/articles/time_record.html","/articles/track_record.html","/articles/voice2text.html","/articles/windows_setting.html","/articles/worm.html","/articles/yt-dlp.html","/coding/Cpp.html","/coding/Git.html","/coding/Rust.html","/coding/algorithm.html","/coding/android.html","/coding/audio.html","/coding/bagu.html","/coding/bot.html","/coding/clojure.html","/coding/container.html","/coding/csharp.html","/coding/css.html","/coding/github.html","/coding/html.html","/coding/","/coding/java.html","/coding/kotlin.html","/coding/lua.html","/coding/mdx.html","/coding/nodejs.html","/coding/octave.html","/coding/package_manager.html","/coding/philosophy_of_PL.html","/coding/python.html","/coding/react.html","/coding/shell.html","/coding/snipets.html","/coding/solidjs.html","/coding/sql.html","/coding/tsjs.html","/coding/vim.html","/coding/vscode.html","/coding/vue.html","/blog/","/blog/log.html","/blog/todo.html","/blog/withvuepress2.html","/essay/2022.html","/essay/2023.html","/essay/2024.html","/essay/2025.html","/essay/earlier.html","/essay/","/farraginous/college.html","/farraginous/reciter.html","/farraginous/recommend_packages.html","/farraginous/recommend_websites.html","/gossip/","/gossip/author.html","/gossip/brainhole.html","/gossip/chicken_soup.html","/gossip/compare_home_to_college.html","/gossip/consider.html","/gossip/difficulties.html","/gossip/forward.html","/gossip/fuckxxx.html","/gossip/hope.html","/gossip/job.html","/gossip/memes.html","/gossip/pc_hardware.html","/gossip/schedule.html","/gossip/va_view.html","/gossip/worldview.html","/gossip/zero_fill.html","/hide/inspiration.html","/hide/memories.html","/hide/personal_details.html","/hide/sports.html","/hide/test.html","/hobbies/anime.html","/hobbies/art.html","/hobbies/books.html","/hobbies/galgame.html","/hobbies/rhythm_games.html","/hobbies/snack.html","/learning/CEC.html","/learning/PoC.html","/learning/Probab.Math.Stat.html","/learning/","/learning/analog_circuit.html","/learning/circuit_analysis.html","/learning/complex_functions.html","/learning/dsp.html","/learning/dsp2.html","/learning/electromagnetic_wave.html","/learning/english.html","/learning/foods.html","/learning/image_processing.html","/learning/information_theory.html","/learning/japanese.html","/learning/network.html","/learning/physics.html","/learning/ps.html","/learning/signals_and_systems.html","/learning/typst.html","/learning/ulpb.html","/articles/browser/assess.html","/articles/browser/settings.html","/articles/linux/basic.html","/articles/linux/","/articles/linux/install_and_config.html","/articles/linux/nix.html","/articles/linux/openwrt.html","/articles/linux/package.html","/articles/linux/problem.html","/articles/mobile/Android_ISA.html","/articles/mobile/adb.html","/articles/mobile/","/articles/mobile/module_and_app.html","/articles/mobile/problem.html","/articles/mobile/root.html","/articles/mobile/settings.html","/articles/proxy/domain.html","/articles/proxy/hysteria.html","/articles/proxy/","/articles/proxy/proxy_software.html","/articles/proxy/trojan-go.html","/articles/proxy/trojan.html","/articles/proxy/vpn.html","/articles/proxy/vps.html","/hobbies/NSFW/","/hobbies/other_games/Minecraft.html","/hobbies/other_games/","/hobbies/other_games/arknights.html","/hobbies/other_games/csgo.html","/hobbies/other_games/rec_college.html","/hobbies/other_games/rec_hometown.html","/hobbies/other_games/uno.html","/404.html","/farraginous/","/hide/","/hobbies/","/articles/browser/","/category/","/category/%E6%8E%A8%E8%8D%90/","/category/%E6%95%99%E7%A8%8B/","/category/%E8%AF%84%E4%BB%B7/","/category/%E5%AF%BC%E8%88%AA/","/category/%E7%BB%8F%E5%8E%86/","/category/%E6%8E%A2%E7%B4%A2/","/category/%E7%94%9F%E5%91%BD%E7%A7%91%E5%AD%A6/","/category/%E7%BC%96%E7%A8%8B/","/category/%E5%BA%94%E7%94%A8/","/category/%E5%8E%9F%E7%90%86/","/category/%E4%B8%BB%E5%BC%A0/","/category/%E5%8D%9A%E5%AE%A2/","/category/%E9%9A%8F%E7%AC%94/","/category/%E4%BD%9C%E8%80%85/","/category/%E7%94%9F%E6%B4%BB/","/category/%E5%AD%A6%E4%B9%A0/","/category/%E7%88%B1%E5%A5%BD/","/category/%E9%97%AE%E9%A2%98/","/tag/","/tag/%E7%A7%BB%E5%8A%A8%E7%AB%AF/","/tag/%E6%A8%AA%E8%AF%84/","/tag/%E9%9F%B3%E9%A2%91/","/tag/cli/","/tag/%E5%B7%A5%E5%85%B7/","/tag/%E6%A1%8C%E9%9D%A2%E7%AB%AF/","/tag/windows/","/tag/%E9%98%85%E8%AF%BB/","/tag/linux/","/tag/%E8%BE%93%E5%85%A5%E6%B3%95/","/tag/%E9%87%91%E8%9E%8D/","/tag/%E5%AD%A6%E4%B9%A0/","/tag/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/","/tag/%E4%BB%A3%E7%90%86/","/tag/galgame/","/tag/%E6%B8%B8%E6%88%8F/","/tag/%E8%81%8A%E5%A4%A9/","/tag/%E5%81%A5%E5%BA%B7/","/tag/%E5%8C%BB%E5%AD%A6/","/tag/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/tag/%E9%A2%86%E5%9F%9F/","/tag/%E6%88%90%E6%9E%9C/","/tag/%E5%89%8D%E7%AB%AF/","/tag/%E5%8C%85%E7%AE%A1%E7%90%86/","/tag/%E7%81%B5%E6%84%9F/","/tag/%E5%93%B2%E5%AD%A6/","/tag/%E6%A1%86%E6%9E%B6/","/tag/%E8%84%9A%E6%9C%AC/","/tag/%E8%B4%9F%E9%9D%A2/","/tag/%E8%B0%9C%E8%AF%AD/","/tag/%E4%B8%96%E7%95%8C/","/tag/%E5%B8%8C%E6%9C%9B/","/tag/%E8%BD%AC%E5%8F%91/","/tag/%E8%8D%89/","/tag/%E7%94%B5%E5%AD%90/","/tag/%E8%AE%A1%E7%AE%97%E6%9C%BA/","/tag/%E4%BA%8C%E6%AC%A1%E5%85%83/","/tag/%E8%89%BA%E6%9C%AF/","/tag/%E7%94%B5%E5%AD%90%E4%B8%8E%E7%94%B5%E8%B7%AF/","/tag/%E6%95%B0%E5%AD%A6/","/tag/%E7%89%A9%E7%90%86/","/tag/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/","/tag/%E5%90%83%E7%9A%84/","/tag/%E6%B5%8F%E8%A7%88%E5%99%A8/","/tag/%E7%BD%91%E7%BB%9C/","/tag/%E5%8D%8F%E8%AE%AE/","/tag/%E5%8A%A0%E5%AF%86/","/tag/nsfw/","/tag/%E6%89%93%E7%89%8C/","/article/","/star/","/timeline/"],Be="SLIMSEARCH_QUERY_HISTORY",v=M(Be,[]),_e=()=>{const{queryHistoryCount:s}=x;return{enabled:s>0,queryHistories:v,addQueryHistory:c=>{v.value=Array.from(new Set([c,...v.value.slice(0,s-1)]))},removeQueryHistory:c=>{v.value=[...v.value.slice(0,c),...v.value.slice(c+1)]}}},Q=s=>be[s.id]+("anchor"in s?`#${s.anchor}`:""),xe="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:I}=x,y=M(xe,[]),fe=()=>({enabled:I>0,resultHistories:y,addResultHistory:o=>{{const c={link:Q(o),display:o.display};"header"in o&&(c.header=o.header),y.value=[c,...y.value.slice(0,I-1)]}},removeResultHistory:o=>{y.value=[...y.value.slice(0,o),...y.value.slice(o+1)]}}),we=s=>{const o=me(),c=T(),f=ge(),i=H(0),A=_(()=>i.value>0),m=ue([]);return de(()=>{const{search:w,terminate:d}=Ee(),b=ve(E=>{const{resultsFilter:C=a=>a,querySplitter:p,suggestionsFilter:S,...r}=o.value;E?(i.value+=1,w(E,c.value,r).then(a=>C(a,E,c.value,f.value)).then(a=>{i.value-=1,m.value=a}).catch(a=>{console.warn(a),i.value-=1,i.value||(m.value=[])})):m.value=[]},x.searchDelay-x.suggestDelay,{maxWait:5e3});pe([s,c],([E])=>b(E.join(" "))),ye(()=>{d()})}),{isSearching:A,results:m}};var De=K({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:o}){const c=X(),f=T(),i=Z(ee),{addQueryHistory:A,queryHistories:m,removeQueryHistory:w}=_e(),{resultHistories:d,addResultHistory:b,removeResultHistory:E}=fe(),C=te(s,"queries"),{results:p,isSearching:S}=we(C),r=le({isQuery:!0,index:0}),a=H(0),g=H(0),R=_(()=>m.value.length>0||d.value.length>0),D=_(()=>p.value.length>0),F=_(()=>p.value[a.value]||null),P=()=>{const{isQuery:t,index:l}=r;l===0?(r.isQuery=!t,r.index=t?d.value.length-1:m.value.length-1):r.index=l-1},U=()=>{const{isQuery:t,index:l}=r;l===(t?m.value.length-1:d.value.length-1)?(r.isQuery=!t,r.index=0):r.index=l+1},O=()=>{a.value=a.value>0?a.value-1:p.value.length-1,g.value=F.value.contents.length-1},z=()=>{a.value=a.value<p.value.length-1?a.value+1:0,g.value=0},W=()=>{g.value<F.value.contents.length-1?g.value+=1:z()},Y=()=>{g.value>0?g.value-=1:O()},k=t=>t.map(l=>Ae(l)?l:e(l[0],l[1])),G=t=>{if(t.type==="customField"){const l=ne[t.index]||"$content",[u,n=""]=he(l)?l[f.value].split("$content"):l.split("$content");return t.display.map(h=>e("div",k([u,...h,n])))}return t.display.map(l=>e("div",k(l)))},B=()=>{a.value=0,g.value=0,o("updateQuery",""),o("close")},N=()=>e("div",{class:"slimsearch-records"},e("div",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},i.value.queryHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},m.value.map((t,l)=>{const u=r.isQuery&&r.index===l;return e("li",{class:["slimsearch-record-matches",{active:u}],role:"option","aria-selected":u,onClick:()=>{o("updateQuery",t)}},e("div",[e(L,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},t),e("button",{type:"button",class:"slimsearch-remove-icon",title:i.value.remove,"aria-label":i.value.remove,innerHTML:$,onClick:n=>{n.preventDefault(),n.stopPropagation(),w(l)}})]))}))])),V=()=>e("ul",{class:"slimsearch-records"},e("li",{class:"slimsearch-record"},[e("div",{class:"slimsearch-record-title"},i.value.resultHistory),e("ul",{class:"slimsearch-record-contents",role:"listbox"},d.value.map((t,l)=>{const u=!r.isQuery&&r.index===l;return e("li",{class:["slimsearch-record-matches",{active:u}],role:"option","aria-selected":u},e(j,{to:t.link,onClick:()=>{B()}},()=>[e(L,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[t.header?e("div",{class:"slimsearch-record-content-header"},t.header):null,e("div",t.display.map(n=>k(n)).flat())]),e("button",{type:"button",class:"slimsearch-remove-icon",title:i.value.remove,"aria-label":i.value.remove,innerHTML:$,onClick:n=>{n.preventDefault(),n.stopPropagation(),E(l)}})]))}))]));return ae("keydown",t=>{if(s.isFocusing){if(D.value){if(t.key==="ArrowUp")Y();else if(t.key==="ArrowDown")W();else if(t.key==="Enter"){const l=F.value.contents[g.value];A(s.queries.join(" ")),b(l),c.push(Q(l)),B()}}else if(t.key==="ArrowUp")P();else if(t.key==="ArrowDown")U();else if(t.key==="Enter"){const{index:l}=r;r.isQuery?(t.preventDefault(),o("updateQuery",m.value[l])):(c.push(d.value[l].link),B())}}}),se([a,g],()=>{var t;(t=document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active"))==null||t.scrollIntoView(!1)},{flush:"post"}),()=>e("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:s.queries.length?!D.value:!R.value}]},s.queries.length?S.value?e(ie,{hint:i.value.searching}):D.value?e("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},p.value.map(({title:t,contents:l},u)=>{const n=a.value===u;return e("div",{class:["slimsearch-record",{active:n}],role:"group","aria-selected":n},[e("div",{class:"slimsearch-record-title"},t||i.value.defaultTitle),e("ul",{class:"slimsearch-record-contents"},l.map((h,J)=>{const q=n&&g.value===J;return e("li",{class:["slimsearch-record-matches",{active:q}],role:"option","aria-selected":q},e(j,{to:Q(h),onClick:()=>{A(s.queries.join(" ")),b(h),B()}},()=>[h.type==="text"?null:e(h.type==="title"?re:h.type==="heading"?oe:ce,{class:"slimsearch-record-type"}),e("div",{class:"slimsearch-record-content"},[h.type==="text"&&h.header?e("div",{class:"slimsearch-record-content-header"},h.header):null,e("div",G(h))])]))}))])})):i.value.emptyResult:R.value?[N(),V()]:i.value.emptyHistory)}});export{De as default};
