import{_ as o,e as d,f as n,i as h,j as a,r as p,o as k,g as i,h as e}from"./app-CxPbs1q-.js";const c={};function g(y,s){const r=p("Tabs");return k(),d("div",null,[s[8]||(s[8]=n('<h1 id="代理客户端选择" tabindex="-1"><a class="header-anchor" href="#代理客户端选择"><span>代理客户端选择</span></a></h1><p>有关于各代理客户端的性能 benchmark，请看<a href="https://docs.google.com/spreadsheets/d/1UaWU6nNho7edBNjNqC8dfGXLlW0-cm84MM7sH6Gp7UE/edit?pli=1&amp;gid=1965963111#gid=1965963111" target="_blank" rel="noopener noreferrer">这里</a>。</p><h2 id="clash-系" tabindex="-1"><a class="header-anchor" href="#clash-系"><span>Clash 系</span></a></h2><blockquote><p>20231102-20231103 Clash 系几乎全部删库跑路。虽然也有一些 fork 版本接手就是了。<br> 在 2025 年，我已经不再推荐任何 clash 系的代理客户端。</p></blockquote><details class="hint-container details"><summary>如果你想知道为什么，可以展开查看。</summary><h3 id="clash-verge-rev" tabindex="-1"><a class="header-anchor" href="#clash-verge-rev"><span><a href="https://github.com/clash-verge-rev/clash-verge-rev" target="_blank" rel="noopener noreferrer">clash-verge-rev</a></span></a></h3><p>几经跑路和秽土转生，三代目的 clash-verge-rev 登场了。</p><p>但是这个 clash 代码质量很低，出过很多事：</p><ol><li>在 Windows 上卸载 clash-verge-rev 2.3.2 的时候会删除整个用户开始菜单目录，会导致开始菜单被清空 <a href="https://t.me/azaneko/6255" target="_blank" rel="noopener noreferrer">ref</a></li><li>写爆日志</li><li>远程执行漏洞 <a href="https://t.me/azaneko/5277" target="_blank" rel="noopener noreferrer">ref1</a> <a href="https://t.me/azaneko/5288" target="_blank" rel="noopener noreferrer">ref2</a></li></ol><h3 id="clash-verge" tabindex="-1"><a class="header-anchor" href="#clash-verge"><span><a href="https://github.com/zzzgydi/clash-verge" target="_blank" rel="noopener noreferrer">Clash Verge</a></span></a></h3><details class="hint-container details"><summary>已跑路</summary><p>开源跨平台 Clash 客户端，rust + tauri 技术栈。</p><p>相比<a href="#clash-for-windows">Clash for Windows</a>，其拥有更小的体积（66MB，vs 240MB）与开放性，图形界面不相上下，而<span class="heimu" title="你知道的太多了">对于一般使用者无关紧要的</span>功能会更少一些。</p><p>其 <em>设置热键</em> 的功能也是我非常喜欢的一点。不过由于 VPS 自建节点的原因，懒得做订阅转换，放弃了 Clash Verge 而去使用了 <a href="#v2ray">v2rayN</a>。</p><h4 id="简易教程" tabindex="-1"><a class="header-anchor" href="#简易教程"><span>简易教程</span></a></h4><p>我们可以先在设置中将其语言调成中文。</p><p>类似地，在 <em>配置</em> 中粘贴订阅链接，下载并选中，然后就可以在 <em>代理</em> 中使用节点了。记得在 <em>配置</em> 中打开 <em>系统代理</em> 选项。</p></details><h3 id="clash-for-windows" tabindex="-1"><a class="header-anchor" href="#clash-for-windows"><span>Clash for Windows</span></a></h3><details class="hint-container details"><summary>已跑路</summary><h4 id="简介" tabindex="-1"><a class="header-anchor" href="#简介"><span>简介</span></a></h4><p><em>Clash for Windows</em> 是闭源的 PC 客户端。（然而因为一个 <a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/1105" target="_blank" rel="noopener noreferrer">bug</a>导致我转向了 <a href="#clash-verge">Clash Verge</a>。）</p><h4 id="下载地址" tabindex="-1"><a class="header-anchor" href="#下载地址"><span>下载地址</span></a></h4><p><a href="https://github.com/Fndroid/clash_for_windows_pkg" target="_blank" rel="noopener noreferrer">项目地址</a> | <a href="https://github.com/Fndroid/clash_for_windows_pkg/releases" target="_blank" rel="noopener noreferrer">PC 端下载地址</a> | <a href="https://wwp.lanzout.com/ixncj0a1k28h" target="_blank" rel="noopener noreferrer">私链</a></p><h4 id="优势" tabindex="-1"><a class="header-anchor" href="#优势"><span>优势</span></a></h4><ul><li>优秀图形界面</li><li>简单易上手</li></ul><h4 id="简易配置教程-v0-19-16" tabindex="-1"><a class="header-anchor" href="#简易配置教程-v0-19-16"><span>简易配置教程 <em>v0.19.16</em></span></a></h4><ol><li>在 Profiles 中的文本框内粘贴订阅链接并下载。选中下载的配置文件。</li><li>进入 Proxies，选择 rule，点击测速图标并在下方选择一个可用节点。</li><li>进入 General，开启 System Proxy。</li></ol><h4 id="一些提示" tabindex="-1"><a class="header-anchor" href="#一些提示"><span>一些提示</span></a></h4><ul><li><a href="https://github.com/BoyceLig/Clash_Chinese_Patch" target="_blank" rel="noopener noreferrer">这里</a>提供 clash 的汉化。</li><li>在节点界面点击测速图标测试全部节点的连通性</li><li>建议设置配置文件自动更新（Profiles -&gt; 右击配置文件 -&gt; Settings -&gt; Update Interval 设为 24）</li></ul></details><h3 id="clash-for-android" tabindex="-1"><a class="header-anchor" href="#clash-for-android"><span>Clash For Android</span></a></h3><blockquote><p>20231103 继 CFW 删库后，Clash 内核与 Meta 核均删库跑路。</p></blockquote><p>请前往谷歌商店或<a href="https://github.com/Kr328/ClashForAndroid/releases" target="_blank" rel="noopener noreferrer">前往 github 下载</a>。<a href="https://wwp.lanzout.com/iL6sD03mi0gf" target="_blank" rel="noopener noreferrer">私链</a></p><h3 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h3><ul><li><a href="https://github.com/MetaCubeX/Yacd-meta" target="_blank" rel="noopener noreferrer">Yacd-meta</a></li><li><a href="https://xrhexo.netlify.app/posts/1542838017/" target="_blank" rel="noopener noreferrer">神秘模块</a>：magisk module</li><li><a href="https://github.com/ModuleList/akashaProxy" target="_blank" rel="noopener noreferrer">虚空代理</a>：magisk/kernelsu module</li></ul></details><h2 id="v2ray-系" tabindex="-1"><a class="header-anchor" href="#v2ray-系"><span>V2ray 系</span></a></h2><h3 id="v2rayn" tabindex="-1"><a class="header-anchor" href="#v2rayn"><span><a href="https://github.com/2dust/v2rayN" target="_blank" rel="noopener noreferrer">V2rayN</a></span></a></h3><p>V2rayN 是 V2ray 的 windows 前端，支持自定义协议，也可以更换内核。</p><p>相比于 clash，v2ray 主战场在自建节点的方向。由于 clash 订阅本质上是一组节点+规则，单个特定协议的节点无法直接导入 clash，因此使用 v2ray <span class="heimu" title="你知道的太多了">能手搓配置文件的当我没说</span>。但是 v2ray 也能使用 clash 配置文件。</p><ol><li>前往 PC 客户端项目地址，下载 <code>v2rayN-With-Core.zip</code>。（我以前是自己配内核的，但是后来发现问题太多了，还有跨版本兼容性，真不如 with core）</li><li>复制节点地址，按 <code>Ctrl+V</code> 导入，按 <code>Enter</code> 激活。</li><li>测试真连接延迟，确保节点有效。</li><li>下方 <em>系统代理</em> 处选择 <em>自动配置系统代理</em>，开启代理。</li></ol><p>若为订阅链接：</p><ol><li>点击加号，在订阅分组设置中，将订阅链接填入 URL。别名随便写。</li><li>订阅分组 - 更新全部订阅</li><li>一键测延迟/速度，选择节点双击激活。</li><li>同上方 4.</li></ol><h4 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h4><ul><li>在 v2rayN 7.3 及以上版本，bbr2 可能会导致其不可用。可以尝试关闭 bbr2。</li></ul><h3 id="v2raya" tabindex="-1"><a class="header-anchor" href="#v2raya"><span>v2rayA</span></a></h3><p>v2rayA 是一个跨多平台的代理客户端。它有一个易于使用的网页面板，对于初入 linux 的 user 是非常友好的；它也支持透明代理、分流规则、订阅链接等。</p><p>安装：</p>',17)),h(r,{id:"246",data:[{id:"archlinux"},{id:"OpenWRT"},{id:"Windows"}]},{title0:a(({value:l,isActive:t})=>s[0]||(s[0]=[e("archlinux")])),title1:a(({value:l,isActive:t})=>s[1]||(s[1]=[e("OpenWRT")])),title2:a(({value:l,isActive:t})=>s[2]||(s[2]=[e("Windows")])),tab0:a(({value:l,isActive:t})=>s[3]||(s[3]=[i("div",{class:"language-sh line-numbers-mode","data-highlighter":"shiki","data-ext":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," pacman"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -S"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," v2raya")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," v2raya")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 也可以不用 sudo：`v2raya --lite`")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# fishshell")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#0184BC","--shiki-dark":"#56B6C2"}},"set"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -Ux"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ALL_PROXY"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},' "http://127.0.0.1:20172"'),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"  # 必须加 -x, 否则系统代理无效")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("p",null,[e("如果需要后台运行，开机自启，可以参考"),i("a",{href:"https://v2raya.org/docs/advanced-application/noroot/",target:"_blank",rel:"noopener noreferrer"},"文档"),e("："),i("code",null,"systemctl --user enable --now v2raya-lite.service"),e("。")],-1),i("p",null,[e("用 sudo 和不用 sudo 的区别主要是透明代理的支持。显然 "),i("code",null,"--lite"),e(" （无需 sudo）是不能开透明代理的。")],-1)])),tab1:a(({value:l,isActive:t})=>s[4]||(s[4]=[i("p",null,[i("a",{href:"https://v2raya.org/docs/prologue/installation/openwrt/",target:"_blank",rel:"noopener noreferrer"},"https://v2raya.org/docs/prologue/installation/openwrt/"),e("，讲得非常清楚。注意需要安装 "),i("code",null,"xray-core"),e("。")],-1)])),tab2:a(({value:l,isActive:t})=>s[5]||(s[5]=[i("p",null,[i("a",{href:"https://github.com/v2rayA/v2raya-scoop",target:"_blank",rel:"noopener noreferrer"},"使用 scoop 安装")],-1),i("div",{class:"language-sh line-numbers-mode","data-highlighter":"shiki","data-ext":"sh",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"scoop"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," bucket"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," add"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," v2raya"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," https://github.com/v2rayA/v2raya-scoop")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"scoop"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," v2raya")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("p",null,"不过那个 v2ray-rules-dat 好像没啥用，装完以后还是需要联网去下载 dat 文件。",-1)])),_:1}),s[9]||(s[9]=n('<p>之后的操作都在网页上 (<code>127.0.0.1:2017</code>) 进行。</p><ul><li>如果你不开透明代理，则代理端口最好使用 <code>http://127.0.0.1:20172</code>，这个端口带有分流。</li><li>如果你开启透明代理，可以将分流规则选成 <a href="https://v2raya.org/docs/manual/routinga/" target="_blank" rel="noopener noreferrer">RoutingA</a>，然后透明代理分流与端口分流一致。这样方便自定义直连或代理的规则。 <ul><li>v2rayA 的 RoutingA 咋一看和 dae 配置挺像，其实还是有挺大不同的，比 dae 更严格，例如不允许在括号中间换行。</li></ul></li></ul><h3 id="v2rayng" tabindex="-1"><a class="header-anchor" href="#v2rayng"><span>V2rayNG</span></a></h3><p>v2ray 的 Android 前端。</p><h3 id="nekoray" tabindex="-1"><a class="header-anchor" href="#nekoray"><span><a href="https://github.com/MatsuriDayo/nekoray" target="_blank" rel="noopener noreferrer">NekoRay</a></span></a></h3><p>基于 Qt 的代理前端，支持 V2ray &amp; sing-box 内核。</p><blockquote><p>记得好像有停更过一阵子，仓库提交记录是 2022 开始的，找不到。</p></blockquote><h3 id="qv2ray" tabindex="-1"><a class="header-anchor" href="#qv2ray"><span>qv2ray</span></a></h3><p>2017 年左右的很多油管教程都会推荐 qv2ray。qv2ray 停止维护过一段时间(?)，但是我在 2024 年看的时候是有人接手维护的。我没用过。</p><h2 id="sing-box-系" tabindex="-1"><a class="header-anchor" href="#sing-box-系"><span>sing-box 系</span></a></h2><p><em>sing-box 系</em> 指基于 sing-box 内核的一堆代理软件。sing-box 号称是 <em>The universal proxy platform</em>，以支持的协议多闻名。</p><p>缺点就是 bug 也多。</p><p>sing-box 的一个特点是会打开致死量的本地端口，大约 2000 个。这样的优点是抗干扰，在公司内网环境下容易绕过封锁；缺点则是会导致本机端口扫描变慢、与其他占用端口的程序冲突概率变大等。</p><ul><li><a href="https://github.com/MatsuriDayo/NekoBoxForAndroid" target="_blank" rel="noopener noreferrer">NekoBox</a>：Matsuri 的继任，Android 端的好选择。</li><li><a href="https://github.com/MatsuriDayo/Matsuri" target="_blank" rel="noopener noreferrer">Matsuri</a>：项目已 archived。之前用过一阵，后面换回 V2rayNG 了。</li><li><a href="https://github.com/SagerNet" target="_blank" rel="noopener noreferrer">SagerNet</a>：前两位的 base。试了一下 hysteria 插件，不可用，遂无兴趣。 <ul><li>2024 年 archived 后也出了很多 fork。</li></ul></li><li><a href="https://github.com/xchacha20-poly1305/husi" target="_blank" rel="noopener noreferrer">husi</a>：内置各种小众协议插件的 NekoBox。</li><li><a href="https://github.com/KaringX/karing" target="_blank" rel="noopener noreferrer">karing</a>：跨平台的国产开源代理，主要面向小白，易用。</li><li><a href="https://github.com/hiddify/hiddify-app" target="_blank" rel="noopener noreferrer">hiddify</a>：又一个跨平台国产 sing-box 代理。这玩意的 v2.0.5 在我的 windows 上甚至无法打开，比较垃圾。</li></ul><p>并且观测到一个很有趣的现象：在 Android 上，成功（以打断 V2rayNG 方式?）启动过 sing-box 后，之后的 V2rayNG 启动连接的速度会变慢，变为需要约 1s-2s+。或许与其打开的大量端口有一些联系。</p><h2 id="dae-系" tabindex="-1"><a class="header-anchor" href="#dae-系"><span>dae 系</span></a></h2><p>dae 是一个基于 eBPF 的代理内核，性能高。这是我目前用过的<strong>最舒服</strong>的代理软件，可以<strong>维护多个节点池</strong>，对于每个池中的节点，都可以自动选择最小延迟的节点进行使用，并能根据不同规则进行节点池分流。缺点是只能用于 linux 系统，并且支持的协议比起其他代理软件偏少。</p><p>dae 是命令行与配置文件的，而 daed 是 web 前端。如果你刚刚接触 dae 系代理或者不喜欢写配置文件，可以使用 daed。否则我还是比较推荐 dae 的。</p><h3 id="dae" tabindex="-1"><a class="header-anchor" href="#dae"><span><a href="https://github.com/daeuniverse/dae" target="_blank" rel="noopener noreferrer">dae</a></span></a></h3><p>我已经用了很长一段时间的 daed，写 dae 配置文件可以说是非常简单；而且 dae 的官方教程确实非常不错，把 <a href="https://github.com/daeuniverse/dae/blob/main/example.dae" target="_blank" rel="noopener noreferrer">example</a> 下载下来对着改就行，内含丰富注释。这里由于隐私问题，我并未把我的配置公开，而是加密后上传到 github。</p>',20)),h(r,{id:"385",data:[{id:"NixOS"}]},{title0:a(({value:l,isActive:t})=>s[6]||(s[6]=[e("NixOS")])),tab0:a(({value:l,isActive:t})=>s[7]||(s[7]=[i("h4",{id:"前言",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#前言"},[i("span",null,"前言")])],-1),i("p",null,"2024 年在 NixOS 上 nixpkgs 没有 daed 的包，只有 dae 能够直接使用（不使用 daed 还有一个原因：不符合 NixOS 的确定一切的思想。特定位置存的 sqlite 总归是不如用 git 管理配置文件的）。",-1),i("p",null,[e("dae 官方提供了一个 "),i("a",{href:"https://github.com/daeuniverse/flake.nix",target:"_blank",rel:"noopener noreferrer"},"flake.nix"),e(" 配置（包含 dae 和 daed），因为 flake 的版本包含了最新的 bug 修复因此我使用的是 flake；但是我之前"),i("a",{href:"https://github.com/daeuniverse/flake.nix/issues/103",target:"_blank",rel:"noopener noreferrer"},"踩了这玩意一个坑"),e("，因此在 bug 解决之前我还是回退到 nixpkgs 的 dae。")],-1),i("p",null,"2025 年，dae 已经更新到 1.0 版本，bug 少了很多，并且 nixpkgs 也已经有了 dae 与 daed 可以自由选择。",-1),i("h4",{id:"安装",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#安装"},[i("span",null,"安装")])],-1),i("p",null,[e("改完配置以后，直接在 "),i("code",null,"configuration.nix"),e(" 中写：")],-1),i("div",{class:"language-nix line-numbers-mode","data-highlighter":"shiki","data-ext":"nix",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"services"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"dae"),i("span",{style:{"--shiki-light":"white","--shiki-dark":"#FFFFFF"}}," ="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"  enable"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"true"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"  configFile"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"<your/config/file/path>"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";   "),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 必需是绝对路径字符串，看我的踩坑")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"  assets"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"with"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," pkgs"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; [")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"    v2ray-geoip")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"    v2ray-domain-list-community")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  ];")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}"),i("span",{style:{"--shiki-light":"white","--shiki-dark":"#FFFFFF"}},";")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("p",null,"rebuild 后重启即可（不直接生效，是 eBPF 的特性？）。这分流不比 v2rayA 爽多了？",-1),i("h4",{id:"改进",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#改进"},[i("span",null,"改进")])],-1),i("p",null,[e("当然，如果你的配置主目录不一定在 "),i("code",null,"/etc/nixos"),e(" 下，使用绝对路径确实不算明智。这时候可以用一个比较脏的方法，监听 config 的改动，并且每次改动时将最新版本复制到特定绝对路径里。")],-1),i("div",{class:"language-nix line-numbers-mode","data-highlighter":"shiki","data-ext":"nix",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# configuration.nix")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"dae"),i("span",{style:{"--shiki-light":"white","--shiki-dark":"#FFFFFF"}}," ="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"  enable"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"true"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"  # dae needs 0600 permission, but we cannot source file with permission.")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"  # related issue: https://github.com/nix-community/home-manager/issues/3090")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"  configFile"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'"/home/absx/.config/absx_.dae"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"  assets"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#A626A4","--shiki-dark":"#C678DD"}},"with"),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}}," pkgs"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"; [")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"    v2ray-geoip")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"    v2ray-domain-list-community")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  ];")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}"),i("span",{style:{"--shiki-light":"white","--shiki-dark":"#FFFFFF"}},";")]),e(`
`),i("span",{class:"line"}),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# home.nix")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"home"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"."),i("span",{style:{"--shiki-light":"#383A42","--shiki-light-font-style":"inherit","--shiki-dark":"#E06C75","--shiki-dark-font-style":"italic"}},"file"),i("span",{style:{"--shiki-light":"white","--shiki-dark":"#FFFFFF"}}," ="),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'  ".config/absx.dae"'),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = {")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"    source"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"./config/absx.dae"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}},"    onChange"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," = "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"''")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"      rm -f ~/.config/absx_.dae")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"      cp ~/.config/absx.dae ~/.config/absx_.dae")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"      chmod 0640 ~/.config/absx_.dae")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"    ''"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},";")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"  };")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"}"),i("span",{style:{"--shiki-light":"white","--shiki-dark":"#FFFFFF"}},";")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1),i("p",null,[e("但是这样写起来还是挺丑的。最好的办法是"),i("a",{href:"https://github.com/lxl66566/nixos-config/blob/9ac3045d98d956ea9c007a24fae288bca39fcb28/overlays/default.nix#L15",target:"_blank",rel:"noopener noreferrer"},"使用一个函数"),e("，可以在 rebuild 时自动将配置拷贝到 nix store 并设置好权限。")],-1)])),_:1}),s[10]||(s[10]=n(`<h3 id="daed" tabindex="-1"><a class="header-anchor" href="#daed"><span><a href="https://github.com/daeuniverse/daed" target="_blank" rel="noopener noreferrer">daed</a></span></a></h3><blockquote><p>根据 dae 的官方测试，（与 v2raya 相比）确实是基于 eBPF 的 dae 速度更快，但不是快特别多</p><div style="text-align:right;"><p>——Au, <a href="https://t.me/archlinuxcn_group/2912643" target="_blank" rel="noopener noreferrer">src</a></p></div></blockquote><p>daed 是网页面板的开源代理软件，<a href="#dae">dae</a> 的前端，而 dae 基于 eBPF<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup>，仅支持 linux。由于比较新，目前使用的人不多。</p><ol><li>安装：<div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --now</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daed</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 启动，并设为开机自启</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>浏览器进入 <code>localhost:2023</code></li><li>一路确定。例如数据库后端使用默认值：<code>http://127.0.0.1:2023/graphql</code>，首次登录会要求设账号密码，设一个即可。</li><li>导入节点信息，拖拽到左侧 proxy 即可。</li></ol><p>踩坑：</p><ol><li>daed 默认使用透明代理，没有 socks/http 端口。如果有设置 <code>ALL_PROXY</code> 等系统代理变量记得取消；firefox 需要在代理设置中设为 <em>自动探测网络环境</em>。</li><li><s>务必将 <em>配置 - global - 连接选项 - 拨号模式</em> 设为 <em>ip</em>（默认值）。否则可能无法使用 chatgpt。</s> 经测试，非此问题。</li></ol><p>需要写规则可以参考<a href="https://github.com/daeuniverse/dae/discussions/245#discussioncomment-6575522" target="_blank" rel="noopener noreferrer">这里</a>。</p><p>软件数据存储在 <code>/etc/daed/wing.db</code>（sqlite 数据库），如果需要备份、改账号密码，需要先给 rw 权限，然后用数据库软件更改。</p><p>daed 的一个缺点是无法主动测试节点连通性。但是 daed 默认每 30s 会测试一次节点延迟，你可以 <code>journalctl -eu daed</code> 查看其日志，获取信息。</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p><a href="https://ebpf.io/what-is-ebpf/" target="_blank" rel="noopener noreferrer">What is eBPF?</a> <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section>`,11))])}const b=o(c,[["render",g],["__file","proxy_software.html.vue"]]),f=JSON.parse('{"path":"/articles/proxy/proxy_software.html","title":"代理客户端选择","lang":"zh-CN","frontmatter":{"date":"2023-11-25T00:00:00.000Z","icon":"circle-check","category":["推荐","教程"],"tag":["桌面端","移动端","网络"],"description":"代理客户端选择 有关于各代理客户端的性能 benchmark，请看这里。 Clash 系 20231102-20231103 Clash 系几乎全部删库跑路。虽然也有一些 fork 版本接手就是了。 在 2025 年，我已经不再推荐任何 clash 系的代理客户端。 如果你想知道为什么，可以展开查看。 clash-verge-rev 几经跑路和秽土转生...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"代理客户端选择\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-11-25T00:00:00.000Z\\",\\"dateModified\\":\\"2025-09-08T15:08:42.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://absx.pages.dev/articles/proxy/proxy_software.html"}],["meta",{"property":"og:site_name","content":"绝对值_x 的博客"}],["meta",{"property":"og:title","content":"代理客户端选择"}],["meta",{"property":"og:description","content":"代理客户端选择 有关于各代理客户端的性能 benchmark，请看这里。 Clash 系 20231102-20231103 Clash 系几乎全部删库跑路。虽然也有一些 fork 版本接手就是了。 在 2025 年，我已经不再推荐任何 clash 系的代理客户端。 如果你想知道为什么，可以展开查看。 clash-verge-rev 几经跑路和秽土转生..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-08T15:08:42.000Z"}],["meta",{"property":"article:tag","content":"网络"}],["meta",{"property":"article:tag","content":"移动端"}],["meta",{"property":"article:tag","content":"桌面端"}],["meta",{"property":"article:published_time","content":"2023-11-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-08T15:08:42.000Z"}]]},"git":{"createdTime":1700886418000,"updatedTime":1757344122000,"contributors":[{"name":"lxl66566","username":"lxl66566","email":"18259734087@163.com","commits":23,"url":"https://github.com/lxl66566"}]},"readingTime":{"minutes":9.43,"words":2828},"filePathRelative":"articles/proxy/proxy_software.md","localizedDate":"2023年11月25日","excerpt":"\\n","autoDesc":true}');export{b as comp,f as data};
