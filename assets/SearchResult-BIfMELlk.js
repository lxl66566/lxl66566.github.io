import{E as M,g as te,G as le,H as U,I as ae,P as se,J as ie,K as re,k as S,B as x,L as oe,m as Y,M as l,N as ne,R as O,O as ce,Q as he,S as me,U as ue,V as ge,W as de,l as Ee,X as pe,Y as ve,Z as w,$ as ye,a0 as Ae,a1 as Be,a2 as $,a3 as I,a4 as be}from"./app-R_O4MqhO.js";const _e=["/","/articles/android_player.html","/articles/cli_compress.html","/articles/control.html","/articles/downloaders.html","/articles/external.html","/articles/frp.html","/articles/","/articles/input_method.html","/articles/markdown.html","/articles/minimize_exe.html","/articles/money.html","/articles/note.html","/articles/ocr.html","/articles/pdf_reader.html","/articles/potplayer_setting.html","/articles/ramdisk.html","/articles/reverse_proxy.html","/articles/speedup.html","/articles/telegram.html","/articles/time_record.html","/articles/track_record.html","/articles/voice2text.html","/articles/windows_setting.html","/articles/worm.html","/articles/yt-dlp.html","/blog/","/blog/log.html","/blog/todo.html","/blog/withvuepress2.html","/coding/Cpp.html","/coding/Git.html","/coding/Rust.html","/coding/algorithm.html","/coding/android.html","/coding/bagu.html","/coding/bot.html","/coding/clojure.html","/coding/container.html","/coding/csharp.html","/coding/css.html","/coding/github.html","/coding/html.html","/coding/","/coding/java.html","/coding/kotlin.html","/coding/mdx.html","/coding/nodejs.html","/coding/octave.html","/coding/package_manager.html","/coding/philosophy_of_PL.html","/coding/python.html","/coding/react.html","/coding/shell.html","/coding/solidjs.html","/coding/sql.html","/coding/tsjs.html","/coding/vim.html","/coding/vscode.html","/coding/vue.html","/essay/2022.html","/essay/2023.html","/essay/2024.html","/essay/2025.html","/essay/earlier.html","/essay/","/farraginous/college.html","/farraginous/reciter.html","/farraginous/recommend_packages.html","/farraginous/recommend_websites.html","/gossip/","/gossip/author.html","/gossip/brainhole.html","/gossip/chicken_soup.html","/gossip/compare_home_to_college.html","/gossip/consider.html","/gossip/difficulties.html","/gossip/forward.html","/gossip/fuckxxx.html","/gossip/hope.html","/gossip/job.html","/gossip/memes.html","/gossip/schedule.html","/gossip/va_view.html","/gossip/worldview.html","/gossip/zero_fill.html","/hide/inspiration.html","/hide/memories.html","/hide/personal_details.html","/hide/sports.html","/hide/test.html","/hobbies/Minecraft.html","/hobbies/anime.html","/hobbies/art.html","/hobbies/books.html","/hobbies/galgame.html","/hobbies/rhythm_games.html","/hobbies/snack.html","/learning/CEC.html","/learning/PoC.html","/learning/Probab.Math.Stat.html","/learning/","/learning/analog_circuit.html","/learning/circuit_analysis.html","/learning/complex_functions.html","/learning/dsp.html","/learning/dsp2.html","/learning/electromagnetic_wave.html","/learning/english.html","/learning/foods.html","/learning/image_processing.html","/learning/information_theory.html","/learning/japanese.html","/learning/network.html","/learning/physics.html","/learning/ps.html","/learning/signals_and_systems.html","/learning/typst.html","/learning/ulpb.html","/articles/browser/assess.html","/articles/browser/settings.html","/articles/linux/basic.html","/articles/linux/","/articles/linux/install_and_config.html","/articles/linux/nix.html","/articles/linux/openwrt.html","/articles/linux/package.html","/articles/linux/problem.html","/articles/mobile/Android_ISA.html","/articles/mobile/adb.html","/articles/mobile/","/articles/mobile/module_and_app.html","/articles/mobile/problem.html","/articles/mobile/root.html","/articles/mobile/settings.html","/articles/proxy/domain.html","/articles/proxy/hysteria.html","/articles/proxy/","/articles/proxy/proxy_software.html","/articles/proxy/trojan-go.html","/articles/proxy/trojan.html","/articles/proxy/vpn.html","/articles/proxy/vps.html","/hobbies/NSFW/","/hobbies/other_games/","/hobbies/other_games/arknights.html","/hobbies/other_games/csgo.html","/hobbies/other_games/rec_college.html","/hobbies/other_games/rec_hometown.html","/hobbies/other_games/uno.html","/404.html","/farraginous/","/hide/","/hobbies/","/articles/browser/","/category/","/category/%E6%8E%A8%E8%8D%90/","/category/%E6%95%99%E7%A8%8B/","/category/%E8%AF%84%E4%BB%B7/","/category/%E5%AF%BC%E8%88%AA/","/category/%E7%BB%8F%E5%8E%86/","/category/%E7%94%9F%E5%91%BD%E7%A7%91%E5%AD%A6/","/category/%E5%8D%9A%E5%AE%A2/","/category/%E7%BC%96%E7%A8%8B/","/category/%E5%BA%94%E7%94%A8/","/category/%E4%B8%BB%E5%BC%A0/","/category/%E9%9A%8F%E7%AC%94/","/category/%E4%BD%9C%E8%80%85/","/category/%E7%94%9F%E6%B4%BB/","/category/%E5%AD%A6%E4%B9%A0/","/category/%E7%88%B1%E5%A5%BD/","/tag/","/tag/%E7%A7%BB%E5%8A%A8%E7%AB%AF/","/tag/%E6%A8%AA%E8%AF%84/","/tag/%E9%9F%B3%E9%A2%91/","/tag/cli/","/tag/%E5%B7%A5%E5%85%B7/","/tag/%E6%A1%8C%E9%9D%A2%E7%AB%AF/","/tag/windows/","/tag/%E9%98%85%E8%AF%BB/","/tag/linux/","/tag/%E8%BE%93%E5%85%A5%E6%B3%95/","/tag/%E9%87%91%E8%9E%8D/","/tag/%E5%AD%A6%E4%B9%A0/","/tag/%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%99%A8/","/tag/%E8%81%8A%E5%A4%A9/","/tag/%E5%81%A5%E5%BA%B7/","/tag/%E5%8C%BB%E5%AD%A6/","/tag/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","/tag/%E9%A2%86%E5%9F%9F/","/tag/%E6%88%90%E6%9E%9C/","/tag/%E5%89%8D%E7%AB%AF/","/tag/%E5%8C%85%E7%AE%A1%E7%90%86/","/tag/%E7%81%B5%E6%84%9F/","/tag/%E5%93%B2%E5%AD%A6/","/tag/%E6%A1%86%E6%9E%B6/","/tag/%E8%B4%9F%E9%9D%A2/","/tag/%E8%B0%9C%E8%AF%AD/","/tag/%E4%B8%96%E7%95%8C/","/tag/%E5%B8%8C%E6%9C%9B/","/tag/%E8%BD%AC%E5%8F%91/","/tag/%E8%8D%89/","/tag/%E6%B8%B8%E6%88%8F/","/tag/%E4%BA%8C%E6%AC%A1%E5%85%83/","/tag/%E8%89%BA%E6%9C%AF/","/tag/%E7%94%B5%E5%AD%90%E4%B8%8E%E7%94%B5%E8%B7%AF/","/tag/%E6%95%B0%E5%AD%A6/","/tag/%E7%89%A9%E7%90%86/","/tag/%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80/","/tag/%E5%90%83%E7%9A%84/","/tag/%E6%B5%8F%E8%A7%88%E5%99%A8/","/tag/%E7%BD%91%E7%BB%9C/","/tag/%E5%8D%8F%E8%AE%AE/","/tag/%E5%8A%A0%E5%AF%86/","/tag/nsfw/","/tag/%E6%89%93%E7%89%8C/","/article/","/star/","/timeline/"],fe="SEARCH_PRO_QUERY_HISTORY",v=M(fe,[]),xe=()=>{const{queryHistoryCount:a}=w,s=a>0;return{enabled:s,queryHistory:v,addQueryHistory:i=>{s&&(v.value=Array.from(new Set([i,...v.value.slice(0,a-1)])))},removeQueryHistory:i=>{v.value=[...v.value.slice(0,i),...v.value.slice(i+1)]}}},q=a=>_e[a.id]+("anchor"in a?`#${a.anchor}`:""),we="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:T}=w,y=M(we,[]),Ce=()=>{const a=T>0;return{enabled:a,resultHistory:y,addResultHistory:s=>{if(a){const i={link:q(s),display:s.display};"header"in s&&(i.header=s.header),y.value=[i,...y.value.slice(0,T-1)]}},removeResultHistory:s=>{y.value=[...y.value.slice(0,s),...y.value.slice(s+1)]}}},De=a=>{const s=ue(),i=U(),C=ge(),o=S(0),b=x(()=>o.value>0),d=de([]);return Ee(()=>{const{search:E,terminate:D}=pe(),A=ve(h=>{const B=h.join(" "),{searchFilter:F=g=>g,splitWord:k,suggestionsFilter:j,...p}=s.value;B?(o.value+=1,E(h.join(" "),i.value,p).then(g=>F(g,B,i.value,C.value)).then(g=>{o.value-=1,d.value=g}).catch(g=>{console.warn(g),o.value-=1,o.value||(d.value=[])})):d.value=[]},w.searchDelay-w.suggestDelay);Y([a,i],([h])=>A(h),{immediate:!0}),ye(()=>{D()})}),{isSearching:b,results:d}};var ke=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:s}){const i=le(),C=U(),o=ae(se),{enabled:b,addQueryHistory:d,queryHistory:E,removeQueryHistory:D}=xe(),{enabled:A,resultHistory:h,addResultHistory:B,removeResultHistory:F}=Ce(),k=b||A,j=ie(a,"queries"),{results:p,isSearching:g}=De(j),r=re({isQuery:!0,index:0}),m=S(0),u=S(0),L=x(()=>k&&(E.value.length>0||h.value.length>0)),H=x(()=>p.value.length>0),R=x(()=>p.value[m.value]||null),z=()=>{const{isQuery:e,index:t}=r;t===0?(r.isQuery=!e,r.index=e?h.value.length-1:E.value.length-1):r.index=t-1},G=()=>{const{isQuery:e,index:t}=r;t===(e?E.value.length-1:h.value.length-1)?(r.isQuery=!e,r.index=0):r.index=t+1},N=()=>{m.value=m.value>0?m.value-1:p.value.length-1,u.value=R.value.contents.length-1},V=()=>{m.value=m.value<p.value.length-1?m.value+1:0,u.value=0},W=()=>{u.value<R.value.contents.length-1?u.value+=1:V()},J=()=>{u.value>0?u.value-=1:N()},Q=e=>e.map(t=>be(t)?t:l(t[0],t[1])),K=e=>{if(e.type==="customField"){const t=Ae[e.index]||"$content",[n,f=""]=Be(t)?t[C.value].split("$content"):t.split("$content");return e.display.map(c=>l("div",Q([n,...c,f])))}return e.display.map(t=>l("div",Q(t)))},_=()=>{m.value=0,u.value=0,s("updateQuery",""),s("close")},X=()=>b?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},o.value.queryHistory),E.value.map((e,t)=>l("div",{class:["search-pro-result-item",{active:r.isQuery&&r.index===t}],onClick:()=>{s("updateQuery",e)}},[l($,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},e),l("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:n=>{n.preventDefault(),n.stopPropagation(),D(t)}})]))])):null,Z=()=>A?l("ul",{class:"search-pro-result-list"},l("li",{class:"search-pro-result-list-item"},[l("div",{class:"search-pro-result-title"},o.value.resultHistory),h.value.map((e,t)=>l(O,{to:e.link,class:["search-pro-result-item",{active:!r.isQuery&&r.index===t}],onClick:()=>{_()}},()=>[l($,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[e.header?l("div",{class:"content-header"},e.header):null,l("div",e.display.map(n=>Q(n)).flat())]),l("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:n=>{n.preventDefault(),n.stopPropagation(),F(t)}})]))])):null;return oe("keydown",e=>{if(a.isFocusing){if(H.value){if(e.key==="ArrowUp")J();else if(e.key==="ArrowDown")W();else if(e.key==="Enter"){const t=R.value.contents[u.value];d(a.queries.join(" ")),B(t),i.push(q(t)),_()}}else if(A){if(e.key==="ArrowUp")z();else if(e.key==="ArrowDown")G();else if(e.key==="Enter"){const{index:t}=r;r.isQuery?(s("updateQuery",E.value[t]),e.preventDefault()):(i.push(h.value[t].link),_())}}}}),Y([m,u],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>l("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!H.value:!L.value}],id:"search-pro-results"},a.queries.length?g.value?l(ne,{hint:o.value.searching}):H.value?l("ul",{class:"search-pro-result-list"},p.value.map(({title:e,contents:t},n)=>{const f=m.value===n;return l("li",{class:["search-pro-result-list-item",{active:f}]},[l("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),t.map((c,ee)=>{const P=f&&u.value===ee;return l(O,{to:q(c),class:["search-pro-result-item",{active:P,"aria-selected":P}],onClick:()=>{d(a.queries.join(" ")),B(c),_()}},()=>[c.type==="text"?null:l(c.type==="title"?ce:c.type==="heading"?he:me,{class:"search-pro-result-type"}),l("div",{class:"search-pro-result-content"},[c.type==="text"&&c.header?l("div",{class:"content-header"},c.header):null,l("div",K(c))])])})])})):o.value.emptyResult:k?L.value?[X(),Z()]:o.value.emptyHistory:o.value.emptyResult)}});export{ke as default};
