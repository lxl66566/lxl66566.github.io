import{_ as r,e as a,g as t,f as o,h as n,i as l,j as p,r as T,o as s}from"./app-CI3aNgBP.js";const d={};function c(h,e){const i=T("RouteLink");return s(),a("div",null,[e[3]||(e[3]=t("h1",{id:"计算机网络-专业",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#计算机网络-专业"},[t("span",null,"计算机网络（专业）")])],-1)),t("p",null,[e[1]||(e[1]=n("这里的内容比起")),l(i,{to:"/learning/network.html"},{default:p(()=>e[0]||(e[0]=[n("大学授课 - 计算机网络")])),_:1}),e[2]||(e[2]=n("，会更加偏向于技术细节。"))]),e[4]||(e[4]=o('<h2 id="http" tabindex="-1"><a class="header-anchor" href="#http"><span>HTTP</span></a></h2><p>历史：HTTP/0.9, HTTP/1.0, HTTP/1.1, HTTP/2, HTTP/3 (QUIC).</p><ul><li>HTTP/1.0：添加状态码、header、content-type。</li><li>HTTP/1.1：复用同一个 tcp 连接，chunked encoding，Pipelining。</li><li>HTTP/2：多路复用，帧和流，二进制传输，Server Push。</li></ul><p>公司内部一般使用 HTTP/1.1。之后的 section 若未指明，默认为 HTTP/1.1。</p><h3 id="http-1-0" tabindex="-1"><a class="header-anchor" href="#http-1-0"><span>HTTP/1.0</span></a></h3><ul><li>每个请求都<strong>必须</strong>新建一个 tcp 连接。</li></ul><h3 id="http-1-1" tabindex="-1"><a class="header-anchor" href="#http-1-1"><span>HTTP 1.1</span></a></h3><p><strong>建议阅读 <a href="https://www.rfc-editor.org/rfc/rfc9113" target="_blank" rel="noopener noreferrer">RFC 9113 HTTP/1.1</a></strong>。主要内容在 RFC 里都有，这里随便做点笔记。</p><ul><li>HTTP/1.1 可以在同一个 TCP 连接（连接复用）上<strong>连续</strong>发送<strong>多个请求</strong>，不用等待前一个请求的响应返回（Pipelining）。</li><li>响应的返回顺序必须与请求的发送顺序严格一致。只要发送顺序一致，tcp 协议层会保证接收顺序也一致。</li><li>Host header 是必须有的，如果没有，server 必须返回 400。</li><li>Header 是一个 map，其中 key 不分大小写，不能有下划线。</li><li>chunked: <ul><li><code>Transfer-Encoding: chunked</code> 时，Content-Length 将被忽略。</li><li>chunked 是 HTTP/1.1 唯一的应用层分块机制，除此之外就只能靠 tcp 分包了。chunked 对每个块的大小没有限制。</li></ul></li></ul><h3 id="http-2" tabindex="-1"><a class="header-anchor" href="#http-2"><span>HTTP/2</span></a></h3><p>HTTP/2（2015）是 HTTP 1.1（1997）以来的一个重大更新。</p><ul><li>所有 header 都<strong>必须</strong>被 HPACK 算法压缩。Body (DATA) 不强制压缩，一般由应用自行实现。</li></ul><h2 id="tcp" tabindex="-1"><a class="header-anchor" href="#tcp"><span>TCP</span></a></h2><ul><li>简记：三次握手：SYN，SYN-ACK，ACK；四次挥手：FIN，ACK （进入半连接），FIN，ACK。</li><li>MTU：Maximum Transmission Unit，单数据包的可传输最大数据量，受到现实网络设备限制，一般为 1500。</li><li>MSS：Maximum Segment Size，TCP segment 的最大长度，一般为 MTU - 40（20 IP header, 20 TCP header）。</li></ul><h3 id="内核参数" tabindex="-1"><a class="header-anchor" href="#内核参数"><span>内核参数</span></a></h3><ul><li><code>net.ipv4.tcp_syn_retries</code>：建连阶段 SYN 包的重传最大次数，默认为 6。重传有指数退避，走到 timeout 的耗时为 127s。</li><li><code>net.ipv4.tcp_retries2</code>：在已建连的 TCP 连接上重传的次数参考，默认为 15。实际重传耗时取决于 RTO，默认为大约 15 分钟。</li></ul>',16))])}const P=r(d,[["render",c],["__file","network_biz.html.vue"]]),u=JSON.parse('{"path":"/learning/network_biz.html","title":"计算机网络（专业）","lang":"zh-CN","frontmatter":{"date":"2025-12-12T00:00:00.000Z","icon":"network-wired","category":["学习","工作"],"description":"计算机网络（专业） 这里的内容比起，会更加偏向于技术细节。 HTTP 历史：HTTP/0.9, HTTP/1.0, HTTP/1.1, HTTP/2, HTTP/3 (QUIC). HTTP/1.0：添加状态码、header、content-type。 HTTP/1.1：复用同一个 tcp 连接，chunked encoding，Pipelining。...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"计算机网络（专业）\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-12-12T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-26T13:12:40.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://absx.pages.dev/learning/network_biz.html"}],["meta",{"property":"og:site_name","content":"绝对值_x 的博客"}],["meta",{"property":"og:title","content":"计算机网络（专业）"}],["meta",{"property":"og:description","content":"计算机网络（专业） 这里的内容比起，会更加偏向于技术细节。 HTTP 历史：HTTP/0.9, HTTP/1.0, HTTP/1.1, HTTP/2, HTTP/3 (QUIC). HTTP/1.0：添加状态码、header、content-type。 HTTP/1.1：复用同一个 tcp 连接，chunked encoding，Pipelining。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-26T13:12:40.000Z"}],["meta",{"property":"article:published_time","content":"2025-12-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-26T13:12:40.000Z"}]]},"git":{"createdTime":1765546408000,"updatedTime":1766754760000,"contributors":[{"name":"lxl66566","username":"lxl66566","email":"lxl66566@gmail.com","commits":2,"url":"https://github.com/lxl66566"}]},"readingTime":{"minutes":1.73,"words":519},"filePathRelative":"learning/network_biz.md","localizedDate":"2025年12月12日","excerpt":"\\n","autoDesc":true}');export{P as comp,u as data};
