---
date: 2023-10-11
icon: config
category:
  - ç»å†
tag:
  - æ¡Œé¢ç«¯
  - å·¥å…·
  - Linux
---

# é‡åˆ°çš„é—®é¢˜

## å¦‚ä½•å‡å°‘é—®é¢˜

è€ç”Ÿå¸¸è°ˆï¼š

1. `pacman -Syu` è‹¥æ›´æ–°äº†å†…æ ¸ï¼Œç«‹åˆ»é‡å¯

è¸©äº†å¾ˆå¤šå‘ï¼Œæ€»ç»“äº†ç‚¹é€šç”¨ç»éªŒï¼š

1. å¹²ç‚¹ä»€ä¹ˆä¹‹å‰ï¼Œå…ˆå¤‡ä»½ï¼ˆæ‰“å¿«ç…§ï¼‰
2. å¹²ç‚¹ä»€ä¹ˆä¹‹å‰ï¼Œå…ˆå»[è½çµ®](https://luoxu.archlinuxcn.org/)æœä¸€ä¸‹å…³é”®è¯ï¼Œçœ‹çœ‹åˆ«äººæœ‰æ²¡æœ‰è¸©å‘

::: tip
ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼ŒæŒ‰æ—¶é—´å€’åºã€‚
:::

## waydroid çš„é—®é¢˜

### å¯åŠ¨å¤±è´¥

å®‰è£… waydroid ä¸ä¹…åï¼Œ`waydroid show-full-ui` å¯åŠ¨å¤±è´¥ï¼Œå‘½ä»¤è¡Œæ˜¾ç¤º `waydroid  [gbinder] Service manager /dev/anbox-binder has appeared`ï¼Œä½†æ˜¯å´æ²¡æœ‰æ‰“å¼€å›¾å½¢ç•Œé¢ã€‚

é‡å¯åå¥½äº†ï¼Œå†é‡å¯åˆç‚¸äº†ã€‚

[æŸä¸ª issue](https://github.com/waydroid/waydroid/issues/136#issuecomment-949694932) è®²è®¾ç½®å†…æ ¸å¯åŠ¨å‚æ•°ï¼Œè¯•äº†ä¸€ä¸‹ï¼Œæ— æ•ˆã€‚

æ­¤æ—¶æƒ³åˆ°è¦çœ‹ logï¼Œ`waydroid log` æ˜¾ç¤º `lxc-start: waydroid: ../src/lxc/conf.c: run_buffer: 322 Script exited with status 126`ã€‚

æ²¡è¾™ï¼Œç„¶å `sudo waydroid init -f` é‡è£…ã€‚ç„¶åå°±èƒ½ç”¨äº†ã€‚

åæ¥åˆä¸€æ¬¡é‡åˆ°äº†ç›¸åŒé—®é¢˜ï¼Œè¿™æ¬¡æ‹¿äº†æ›´å¤šä¿¡æ¯å»æœï¼Œå‘ç°ä¸€ä¸ª[çœ‹èµ·æ¥ä¸ç›¸ä¼¼çš„ issue](https://github.com/waydroid/waydroid/issues/294#issuecomment-1027392592) å±…ç„¶èƒ½è§£å†³æˆ‘çš„é—®é¢˜ï¼Œéå¸¸æƒŠè®¶ã€‚

## timeshift åˆ é™¤å¿«ç…§

æœªè§£å†³ï¼

æˆ‘å·²ç»è½¬ snapper äº†ï¼Œæƒ³åˆ é™¤æ‰€æœ‰ timeshift çš„å¿«ç…§å¹¶å¸è½½ã€‚ç„¶è€Œæœ‰ä¸€ä¸ªå¿«ç…§åœ¨åˆ é™¤ä¸­å‡ºç°é”™è¯¯ï¼ˆçœŸçš„å¤ªå‚»é€¼äº†ï¼‰ã€‚äºæ˜¯æˆ‘æ‰¾åˆ°äº†[è¿™ä¸ªå›ç­”](https://bbs.archlinux.org/viewtopic.php?id=266965)ï¼Œå‘ç°é—®é¢˜åŸºæœ¬æ˜¯ä¸€æ ·çš„ã€‚äºæ˜¯åªè¦æ‰‹åŠ¨åˆ é™¤å­å·å°±è¡Œäº†ã€‚

ä½†æ˜¯ï¼Œæˆ‘æ‰¾ä¸åˆ°å­å·çš„ä½ç½®ã€‚

> \> sudo timeshift --list  
> Mounted '/dev/nvme1n1p3' at '/run/timeshift/36810/backup'

`/run/timeshift` æ–‡ä»¶å¤¹æ˜¯ç©ºçš„ã€‚åæ¥åˆæ‰¾åˆ°äº†[å…¶ä»–äººç›¸åŒçš„é­é‡](https://bbs.archlinux.org/viewtopic.php?id=287094)ã€‚That's STICKYï¼

## sddm æ— æ³•å¯åŠ¨

è¿™æ˜¯æˆ‘é‡åˆ°çš„ç¬¬äºŒä¸ªæ¶æ€§ bug[^2]ï¼ˆç¬¬ä¸€ä¸ªæ˜¯ [timeshift](#timeshift-å¼•å‘çš„è¡€æ¡ˆ)ï¼‰ã€‚

[^2]: ä¸ªäººå®šä¹‰éœ€è¦ä½¿ç”¨ archiso è¿› arch-chroot çš„éƒ½å«æ¶æ€§ã€‚

[log](https://t.me/withabsolutex/1331)ï¼Œå…·ä½“æ¥è¯´æ˜¯å¯åŠ¨å…¨ç»¿ï¼Œè€Œåå·¦ä¸Šè§’å…‰æ ‡å¡ä½ä¸é—ªçƒã€‚`Ctrl + Alt + F1` åè¿›å…¥ ttyï¼Œå±å¹•æ˜¾ç¤ºæ–¹æ‰çš„å†…æ ¸å…¨ç»¿æ¶ˆæ¯ï¼Œå…‰æ ‡é—ªçƒï¼Œä½†ä»ç„¶æ— æ³•è¾“å…¥ä»»ä½•å­—ç¬¦ã€‚

æˆ‘å°è¯•ï¼š

1. é¦–å…ˆçŸ­æŒ‰å…³æœºï¼Œç”¨ archiso æŒ‚è½½å `arch-chroot` è¿›å»ï¼Œçœ‹æ—¥å¿—ï¼Œçœ‹å†…æ ¸æ¶ˆæ¯ï¼Œæ— ç›¸å…³æŠ¥é”™ã€‚
2. é‡æ–° `mkinitcpio -p linux`ï¼Œé‡å¯æ— æ•ˆã€‚
3. æƒ³åˆ°æœ€åä¸€æ¡å†…æ ¸æ¶ˆæ¯æ˜¯ SDDMï¼Œç»å°½è„‘æ±ï¼Œæˆ‘ä»Šå¤©å¹²äº†å•¥å‘¢ï¼Œå“¦ï¼Œæˆ‘ç”¨äº†ä¸ª `nvidia-xconfig` ç”Ÿæˆäº† NVIDIA é…ç½®ã€‚
4. é‡æ–° `arch-chroot`ï¼Œå» `/etc/X11` é‡Œæ ¹æ®ä¿®æ”¹æ—¥æœŸåˆ é™¤ç”Ÿæˆçš„ä¸¤ä¸ª `.conf` æ–‡ä»¶ï¼Œé‡å¯ï¼Œé—®é¢˜è§£å†³ã€‚

å“ï¼ŒNVIDIA å®³äººä¸æµ…ã€‚ã€‚è€Œä¸” archwiki å¹¶æœªæŒ‡å‡ºåŒæ˜¾å¡ä¸èƒ½ä½¿ç”¨ `nvidia-xconfig`ã€‚

## ubuntu æç¤ºé‡å¯

åœ¨å…¬å®¶æœåŠ¡å™¨ä¸Š `apt update && apt install ...`ï¼Œç„¶åå‡ºç°ä¸€ä¸ª tui ç•Œé¢æç¤º _new kernel available_ï¼Œè®©æˆ‘é€‰è¦é‡å¯çš„æœåŠ¡ã€‚ã€‚ç”±äºä¸çŸ¥é“é‡å¯ä¹‹åä¼šå¤šå‡ºä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘æŒ‰ä¸¤æ¬¡ ESC é€€å‡ºäº†ã€‚

## timeshift å¼•å‘çš„è¡€æ¡ˆ

> å‰æƒ…æè¦è§[ç½‘å¡é—®é¢˜](#ç½‘å¡é—®é¢˜)ã€‚

1. ä½¿ç”¨ timeshift å›é€€åˆ° 20+days å‰ï¼Œé‡å¯ï¼Œå‘ç°é”™è¯¯ï¼š_Failed to mount /boot_ã€‚`journalctl -xb` æŸ¥çœ‹ï¼Œæ‰¾åˆ°ï¼š_unknown filesystem type 'vfat'_ã€‚
2. æœäº†ä¸€é˜µï¼Œ`uname -a` æ˜¾ç¤ºæˆ‘å†…æ ¸æ˜¯ 6.5.5ï¼Œè€Œå›é€€åˆ°çš„æ—¶é—´ç‚¹æ­£åœ¨ç”¨å†…æ ¸ 6.5.3ï¼ŒçŒœæµ‹æ˜¯å†…æ ¸ç‰ˆæœ¬å†²çªã€‚
3. å» archlinuxcn ç¾¤é‡Œé—®ï¼ŒæœçœŸï¼Œç„¶åéƒ½åœ¨è¯´æ˜¯ timeshift çš„é”…ã€‚ï¼ˆæœ¬ç¾¤åˆä¸€ä¸ª timeshift å—å®³è€…ï¼‰å» luoxu æ‰¾å†å²è®°å½•ï¼Œå‡ºç°å›ç­” â€œ_timeshift ä¸å…¼å®¹ genfstabï¼Œç”Ÿæˆå‡ºä¾†çš„å­å·æ›è¼‰å¸¶ subvolid= åƒæ•¸çš„æƒ…æ³_â€ ([ref](https://t.me/archlinuxcn_group/2927677))
4. ç…§ç€ 13 å¤©å‰å¦ä¸€ä¸ªäººçš„ä¸€æ¨¡ä¸€æ ·çš„é—®é¢˜èµ°äº†ä¸€éè€è·¯ã€‚å…·ä½“çš„ï¼Œè¿›å…¥ archiso å®‰è£…ç›˜ï¼š
   ```sh
   # æŒ‚è½½å­å· / å’Œ /bootï¼ˆnvmexnxpx å¡«å†™å®é™…é©±åŠ¨å™¨å·ï¼‰
   mount -t btrfs -o subvol=/@,compress=zstd /dev/nvmexnxpx /mnt
   mount /dev/nvmexnxpx /mnt/boot
   # chroot
   arch-chroot /mnt
   # é‡è£…å†…æ ¸ä¸è½¯ä»¶åŒ…
   pacman -Syu linux
   # åˆ æ‰ fstab ä¸­çš„ subvolid...
   nvim /etc/fstab
   # é‡å¯
   reboot
   ```

å…¶å®åœ¨æŠ˜è…¾è¿‡ç¨‹ä¸­è¿˜é‡åˆ°å„ç§è„‘æ®‹å°é—®é¢˜ï¼Œæ’æŸ¥èŠ±äº†ä¸€äº›æ—¶é—´ï¼Œè¿™é‡ŒæŒ‰ä¸‹ä¸è¡¨ã€‚

> ä½ æ˜¯é‡åˆ°é—®é¢˜æ‰æƒ³åˆ°æ¢å¤åˆ°å¿«ç…§å—ï¼Œä¸‹æ¬¡å»ºè®®ç›´æ¥ä¿®é‡åˆ°çš„é—®é¢˜ï¼Œåªè¦è§£å†³ 1 ä¸ªé—®é¢˜ã€‚å›æ»šçš„è¯ä½ ç°åœ¨è¦ä¿®åŸæœ¬é‡åˆ°çš„é—®é¢˜å’Œå› ä¸ºå›æ»šé‡åˆ°çš„é—®é¢˜ï¼Œå…± 2 ä¸ªé—®é¢˜ï¼ˆ
> ::: right
> â€”â€”@Senaruk, [ref](https://t.me/archlinuxcn_group/2951737)
> :::

## ç½‘å¡é—®é¢˜

è¿æ¥ç½‘çº¿ä½¿ç”¨æ—¶æ€»æ˜¯çº¦æ¯ 5min ç‚¸ä¸€æ¬¡ï¼ˆä»¥å¤ªç½‘æ—  Internet å“åº”ï¼Œå›é€€åˆ°ä½¿ç”¨ wlan0ï¼‰ã€‚å» Realtek ä¸‹è½½ç½‘å¡é©±åŠ¨ï¼ŒREADME è®©æ‰§è¡Œä¸€ä¸ªè‡ªåŠ¨è„šæœ¬ï¼Œ`sudo bash xxx.sh` æŠŠæˆ‘åŸæ¥ç½‘å¡é©±åŠ¨å¸(ç¦ç”¨?)æ‰ä»¥åå°±æŠ¥é”™å¼ºé€€äº†ã€‚ã€‚ã€‚ï¼ˆå†™çš„ä»€ä¹ˆå±å±±ï¼ŒçœŸä¸è´Ÿè´£å•Šï¼‰äºæ˜¯æ²¡æœ‰ eth0 ç”¨äº†ã€‚

æœç´¢è§£æ³•æ— æœï¼Œæƒ³ç€ç”¨ timeshift å›é€€åˆ°çˆ†ç‚¸å‰ï¼Œä½†æ˜¯å¿«ç…§æ‰“å¾—ä¸å‹¤ï¼Œåªèƒ½å›é€€åˆ° 20+days å‰ï¼Œäºæ˜¯å°±å‘ç”Ÿäº†[timeshift å¼•å‘çš„è¡€æ¡ˆ](#timeshift-å¼•å‘çš„è¡€æ¡ˆ)â€”â€”

## å®‰è£… OSU

é¦–å…ˆ[æ•™ç¨‹åœ¨è¿™](https://osu.ppy.sh/community/forums/topics/1248084?n=1)ã€‚

å®‰è£…æ—¶æ˜¾ç¤ºæ²¡ç½‘ï¼Œæ˜¯æˆ‘ daed é€æ˜ä»£ç†çš„é”…ï¼Œ`curl google.com` æ­£å¸¸ä½†æ˜¯ ping ä¸åŠ¨ã€‚æŠŠè„šæœ¬é‚£è¡Œ ping éªŒè¯æ³¨é‡Šæ‰å°±è¡Œäº†ã€‚åé¢å®‰è£…å¯èƒ½ä¼šç¼ºä¸œè¥¿ï¼Œç…§ç€æç¤ºè£…ã€‚

è£…å®Œåæ²¡æœ‰ `osu-wine` è¢«æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œä¸èƒ½ç›´æ¥æ‰§è¡Œï¼›`osu-wine` è„šæœ¬åœ¨ `git clone` é‚£ä¸ªç›®å½•ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„å³å¯ã€‚

è¿™æ ·ç”¨ wine è£…å¥½çš„ osu æ¸¸æˆæ—¶åªèƒ½è·‘åˆ° 170 å¸§ï¼ˆwindows ä¸Š 1k+ fpsï¼‰ï¼Œä½¿ç”¨ `nvtop` æŸ¥çœ‹ï¼Œæœç„¶è·‘åœ¨æ ¸æ˜¾ä¸Šï¼Œéœ€è¦ `prime-run`ã€‚

ç°åœ¨åˆå‡ºç°äº†éŸ³é¢‘é—®é¢˜ï¼Œpipewire ä¸‹æ— æ³•æ­£å¸¸æ’­æ”¾ï¼Œå”‰ã€‚

## æ›´æ–°ç ´åä¾èµ–

å››ä¸ªå­—ï¼Œ**å…ˆåˆ å†è£…**ã€‚å‚è€ƒ[forum](https://bbs.archlinuxcn.org/viewtopic.php?id=10208)ï¼Œé—®é¢˜å¯èƒ½æ˜¯æœ‰æ¸¸ç¦»çš„è½¯ä»¶åŒ…ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸Šæ¸¸æ”¹äº†ä¾èµ–ã€‚

ç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªé—®é¢˜ä»¥åè¿˜ä¼šç»å¸¸å‡ºç°ã€‚

## nvim å‰ªè´´æ¿é—®é¢˜

æˆ‘åœ¨ `option.lua` ä¸­æœ‰è®¾ç½® `vim.opt.clipboard = 'unnamedplus'`ï¼Œä¹‹å‰è¿ä½œæŒºå¥½ï¼Œä½†è‡ªä»æ¢äº† X11 ä»¥åå°±ä¸èƒ½å†å¤åˆ¶ã€‚

è§£æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå®‰è£… `xclip` å³å¯ã€‚

## yay æƒé™é”™è¯¯

ä½¿ç”¨ `yay` å®‰è£… `wine-stable` æ—¶å‡ºç°äº†ä¸€äº›é—®é¢˜ã€‚

```
-> æ— æ³•å®‰è£…ä»¥ä¸‹è½¯ä»¶åŒ…, éœ€è¦æ‰‹åŠ¨ä»‹å…¥å¤„ç†:
lib32-http-parser - exit status 4
lib32-libheif - exit status 8
lib32-libgphoto2 - exit status 8
lib32-libxpm - exit status 1
lib32-libgit2 - exit status 8
lib32-gd - exit status 8
wine-stable - exit status 8
lib32-libraqm - exit status 4
lib32-rav1e - exit status 8
# è¯¦ç»†æŠ¥é”™ï¼š
make: ./test_g: æƒé™ä¸å¤Ÿmake: *** [Makefile:76ï¼štest] é”™è¯¯ 127
==> é”™è¯¯ï¼š åœ¨ check() ä¸­å‘ç”Ÿä¸€ä¸ªé”™è¯¯ã€‚æ­£åœ¨æ”¾å¼ƒ...
```

å…¶ä¸­å¤§å¤šæ•°æ˜¯æƒé™é”™è¯¯ã€‚ä½†æ˜¯æˆ‘ç”¨ paru å®‰è£…å°±å¯ä»¥æˆåŠŸå®‰è£…ã€‚

ç»“æœå‘ç°æ˜¯ä¸‹è½½ç›®å½•çš„ tmpfs å¼€äº† `noexec` å¯¼è‡´çš„ã€‚è€ŒåŒæ—¶ç”±äº paru çš„ clonedir æ˜¯ [bind to tmpfs](./index.md#è®¾ç½®) çš„ï¼Œæ²¡æœ‰åŠ  `noexec`ï¼Œäºæ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚ã€‚ã€‚ï¼ˆä¹

## è¾“å…¥æ³•ä¸æ˜¾ç¤º

åœ¨[å®‰è£…äº† kubuntu](#é‡è£…-ubuntu) åï¼Œè®¾ç½®é¡µé»˜è®¤ä¸æ˜¾ç¤ºè¾“å…¥æ³•ã€‚åœ¨è¯­è¨€é¡µé¢ä¸€çœ‹ï¼Œç®€ä½“ä¸­æ–‡æ˜¯æ®‹ç¼ºçš„ï¼Œè­¦å‘Šéœ€è¦ Install Missing Packagesã€‚ä½†æ˜¯æˆ‘æ— æ³•ç›´æ¥åœ¨ kde ui é‡Œç›´æ¥ä¸‹è½½å®‰è£…ï¼Œç‚¹å‡»äº†è¿‡ä¸€é˜µå­åˆæ˜¯æ®‹ç¼ºè­¦å‘Šï¼ˆåŒ…æ‹¬ kde ui ä¹Ÿæ²¡æ³•æ›´æ–°è½¯ä»¶ï¼‰ã€‚

è§£æ³•æ˜¯ `sudo apt install $(check-language-support)`ã€‚ç„¶åæ³¨é”€ï¼Œå† login å°±æœ‰è¾“å…¥æ³•äº†ã€‚

## æ—¥æ–‡è¾“å…¥æ³•

éœ€è¦å®‰è£…æ—¥æ–‡è¾“å…¥æ³•ï¼Œå» archwiki æ—¥è¯­é¡µé¢çœ‹ï¼Œé€‰æ‹©äº† `mozc`ã€‚ç„¶åæˆ‘å°±ç›´æ¥ `yay -S mozc` äº†ï¼Œï¼Œè£…æ˜¯è£…äº†ï¼Œç„¶è€Œæ²¡æ³•ä½¿ç”¨ã€‚ã€‚

åæ¥å‘ç°æˆ‘ä½¿ç”¨ fcitx5 çš„è¯éœ€è¦è£… fcitx5 çš„ mozc utilsï¼ˆåŒ…åæ˜¯`fcitx5-mozc-ut`ï¼‰ã€‚ç„¶åå°±æ²¡å•¥é—®é¢˜äº†ã€‚

> ~~åæ§½ä¸€ä¸‹ï¼Œmozc æºç æœ‰ 600+MBï¼Œç„¶è€Œ bin åªæœ‰ 30MBï¼Œç¼–è¯‘è¿˜é£æ‰‡èµ·é£è½¬äº†å¥½ä¹…ã€‚åªèƒ½è¯´ä½“ä¼šåˆ°äº†ç¼–è¯‘æºç çš„ä¸ä¾¿ã€‚~~

## é‡è£… ubuntu

åœ¨åˆ«äººçš„ç”µè„‘ä¸Š~~ä¹±æ~~ï¼Œè£…äº† intel æ ¸æ˜¾é©±åŠ¨ç„¶åæ²¡æœ‰é‡å¯å°± `sudo apt install vim`ï¼ˆæ˜¯çš„ï¼Œæ²¡æœ‰ vimï¼‰ï¼›ç„¶å gnome å°±å·²ç»å¼€å§‹å‡ºé—®é¢˜äº†ï¼Œé‡å¯é”®æ¶ˆå¤±äº†ã€‚è¿™æ—¶å€™æˆ‘è¿˜æ²¡æœ‰æ„è¯†åˆ°ï¼Œç›´æ¥ `sudo reboot`ï¼Œå†æ¬¡å¼€æœºå°±å†…æ ¸åŠ è½½å¤±è´¥äº†ã€‚ã€‚

ç„¶åå°è¯•ä¿®å¤ã€‚èƒ½è¿› ttyï¼Œä½†ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œifconfig æ²¡æœ‰ï¼Œ`iwconfig` or `ls /sys/class/net` åªæ˜¾ç¤º `lo`ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰¾ä¸åˆ°ç½‘å¡äº†ã€‚ã€‚é‚£æ²¡ç½‘æˆ‘èƒ½å¹²å•¥ï¼Œ~~vi è¿›å»ä¿®å—ï¼Ÿ~~

è¿˜å¥½æ²¡å•¥é‡è¦æ•°æ®ã€‚æˆæƒåé‡è£…äº† kubuntuã€‚ç„¶åå‘ç° kde çˆ†æ€ gnomeï¼ˆäºŒå˜²ï¼‰ã€‚

æœ‰ä¸€è¯´ä¸€ï¼Œæˆ‘ä¸å–œæ¬¢ ubuntu è¿™æ ·è‡ƒè‚¿çš„ç³»ç»Ÿã€‚~~[å…¶ä»–è§‚ç‚¹](https://t.me/archlinuxcn_group/2896194)ï¼Œçœ‹ä¸Šä¸‹æ–‡~~ ä½†æ˜¯æ˜¯å¸®åˆ«äººè£…ï¼Œè¿˜æ˜¯åˆ«æä»€ä¹ˆ archlinuxï¼ˆå“ªå¤©æ»šæŒ‚äº†éƒ½ä¸ä¼šä¿®ï¼‰å’Œ nixosï¼ˆå°ä¼—ï¼Œé—®é¢˜è§£æ³•å°‘ï¼‰äº†ã€‚

> å‡ºç°æ­¤é—®é¢˜æ—¶æˆ‘æ˜¯çº¯æ­£å°ç™½ï¼Œèƒ½åŠ›ä¸è¶³.jpg

## ä¸­æ–‡è®¾ç½®é—®é¢˜

åœ¨è¯­è¨€ä¸­è®¾ç½®äº†ä¸­æ–‡ï¼Œé‡å¯å kde æœ‰éƒ¨åˆ† ui å˜ä¸ºè‹±æ–‡ã€‚

åŸå› ï¼šæ›´æ”¹ `/etc/locale.gen` åæ²¡æœ‰è¿è¡Œ `sudo locale-gen`ã€‚è¿è¡Œå³å¯ã€‚

## yay æ¢æºé—®é¢˜

åˆšå¼€å§‹ä¸€ç›´ä»¥ä¸º yay å°±æ˜¯ç±»ä¼¼ pacman çš„ extraï¼Œæ‰€ä»¥æƒ³è¦ç»™ yay æ¢æºã€‚æ ¹æ®ç®€ä¸­å†…ç½‘çš„å‚»é€¼æ•™ç¨‹ï¼ˆæ²¡é”™ï¼Œæ­¤æ—¶è¿˜æ²¡ä¸Šä»£ç†ï¼‰ï¼Œæ¢äº†ä¸ªå·²ç»åºŸå¼ƒçš„æ¸…åæºï¼ˆæ¢æºæŒ‡ä»¤ï¼š`yay --aururl "https://..." --save`ï¼‰ï¼Œå‘ç°ç”¨ä¸äº†åæ¢æˆäº†ä¸­ç§‘å¤§æºï¼Œç»“æœæŠ¥é”™ï¼š

> -> æŸ¥æ‰¾ AUR è½¯ä»¶åŒ…å¤±è´¥ï¼š ttf-ms-win11-auto-zh_cn:1 error occurred:<br/> \* response decoding failed: invalid character '<' looking for beginning of value

å¹¶ä¸”æ¢å›å®˜æ–¹æºä»ç„¶ç›¸åŒæŠ¥é”™ã€‚æ¢æºè¿‡å»ç„¶åå‘ç°æ¢ä¸å›æ¥ï¼Œå ªæ¯”åˆ·å°ç±³ EU[^1].
[^1]: å‚è€ƒ[åˆ·æœº](../mobile_setting#mipad-5)

ä¹‹åå‘ç°ï¼Œåœ¨ `~/.config/yay/config.json` ä¸­æœ‰ä¸€ä¸ª `aurrpcurl` å­—æ®µï¼Œä¼šä¿ç•™ä¸Šä¸€ä¸ªæ¢æºçš„ç»“æœ(?) å¹¶ä¸”ä¸ä¼šè‡ªåŠ¨æ›´æ¢å›å»ã€‚äºæ˜¯æˆ‘åˆ é™¤è¯¥æ¡ï¼Œé‡æ–°æ‰§è¡Œ `yay --aururl "https://aur.archlinux.org" --save`ï¼Œé—®é¢˜å¾—è§£ã€‚å¦‚æœä¸€æ¬¡ä¸è¡Œå°±ä¸¤æ¬¡ï¼Œä¸€å®šèƒ½è§£(?)ã€‚

ps. ç¾¤å‹æå‡ºäº† `yay --aurrpcurl 'https://aur.archlinux.org' --save`

## umount failed

`sudo umount /mnt/windows`ï¼Œæç¤º

> /mnt/windows: ç›®æ ‡å¿™

ä¼°è®¡æœ‰è«åå¥‡å¦™çš„è½¯ä»¶åœ¨å ç”¨ã€‚ç›´æ¥ `lsof /mnt/windows` æŸ¥å ç”¨ï¼Œç„¶åå† `kill -9 <PID>` å¼ºå…³ã€‚

## Windows å­—ä½“é—®é¢˜

æ ¹æ®[æ•™ç¨‹](https://arch.icekylin.online/guide/advanced/optional-cfg-1.html#å®‰è£…-windows-å­—ä½“)å¤åˆ¶ windows å­—ä½“ï¼Œ<span class="heimu" title="ä½ çŸ¥é“çš„å¤ªå¤šäº†">æ‰“é”™å¤§å°å†™å°±å…ˆä¸è¯´äº†ï¼Œçº æ­£ä»¥å</span>æç¤ºï¼š

> cp: å¯¹ './yuminl.ttf' è°ƒç”¨ stat å¤±è´¥: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•

åæ¥ä½¿ç”¨ `yay -S ttf-ms-win11-auto-zh_cn` å®‰è£…å­—ä½“ä¹Ÿå¤±è´¥ï¼Œä¸­é—´æŠ¥ warning ä¸€å¤§å †ã€‚

æ²¡è¾™ï¼Œæš‚æ—¶ç”¨ U ç›˜æ‹·å§ã€‚

## yay å®‰è£…é—®é¢˜

ä½¿ç”¨ `sudo pacman -S yay` æ—¶ä¸€ç›´æŠ¥é”™ï¼Œ`signature is unknown trust` ç±»ä¼¼çš„ã€‚æ€€ç–‘æ˜¯ pacman-keyring é—®é¢˜ï¼Œå»å‰é¢ [æ›´æ–° pacman-keyring](#æ›´æ–°-pacman-keyring) è¯•äº†å¥½ä¹…ï¼Œéƒ½ä¸è¡Œã€‚

åé¢çœ‹æ•™ç¨‹ï¼Œå‘ç°éœ€è¦å…ˆå®‰è£… cn æºä¸­çš„ç­¾åï¼š`sudo pacman -S archlinuxcn-keyring`ï¼Œç„¶åæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚ã€‚ï¼ˆå› ä¸º pacman ç”¨çš„æ˜¯ archlinuxcn æºï¼‰

## NetworkManager warning

è®¾ç½®è‡ªå¯æœåŠ¡ `systemctl enable --now NetworkManager` æ—¶æŠ¥é”™ï¼š

> ... iwlwifi ... WRT: invalid buffer destination

ä¸è¿‡åé¢ `systemctl status NetworkManager` å‘ç°æœåŠ¡å·²ç»å¯åŠ¨äº†ï¼Œä¹Ÿå°±æ²¡ç®¡äº†ï¼ˆæ‰€ä»¥é—®é¢˜è¿˜æ˜¯æ²¡è§£å†³çš„ï¼Œç„¶è€Œå›¾å½¢ç•Œé¢åå¼€æœºè‡ªå¯çœ‹ä¸åˆ°æŠ¥é”™äº†ï¼‰

ps. å®é™…ä¸Š linux ä¸‹ä¸æ˜æ‰€ä»¥çš„ warning, error å¥½å¤šçš„ï¼ˆè¯¦è§ `journalctl` or `dmesg`ï¼‰ï¼Œéƒ½æ˜¯**èƒ½ç”¨å°±åˆ«ç®¡**åŸåˆ™

## æŒ‚è½½å‡ºé”™

éå¸¸ä½çº§çš„é”™è¯¯ã€‚ã€‚æŒ‚è½½æ—¶æ‰“é”™äº†æŒ‡ä»¤ï¼Œå¯¼è‡´ä¸åŒçš„åˆ†åŒºè¢«æŒ‚è½½åˆ°äº†åŒä¸€ä¸ªä½ç½®ã€‚ä¸è¿‡æ£€æŸ¥å¾—æ—©ï¼Œæ²¡æœ‰ç»§ç»­ä¸‹ä¸€æ­¥å°±å‘ç°äº†é—®é¢˜ã€‚

ç„¶åé‡æ–°æŒ‚è½½ï¼Œåæ¥åˆ° _ç”Ÿæˆ fstab æ–‡ä»¶_ çš„æ—¶å€™åˆå‘ç°äº†æ€ªäº‹ï¼š`genfstab -U /mnt > /mnt/etc/fstab` è¾“å‡ºäº†ä¸€å¤§å †ä¸œè¥¿ï¼Œæˆ‘è¯»äº†ä¸€ä¸‹ï¼ŒåŸæ¥æŠŠæˆ‘æŒ‚è½½æ—¶åšçš„æ‰€æœ‰æ“ä½œï¼ˆåŒ…æ‹¬é”™è¯¯éƒ¨åˆ†ï¼‰éƒ½è®°å½•è¿›å»äº†ã€‚äºæ˜¯æ‰‹åŠ¨åˆ é™¤äº†å†—ä½™ï¼Œåç»­é‡å¯å·¥ä½œæ­£å¸¸ã€‚

è¿™ä¸ªæ–‡ä»¶ç”¨äºæŒ‡ç¤ºå¼€æœºæŒ‚è½½ã€‚åŒ…æ‹¬åæ¥æŒ‚å†…å­˜ç›˜ä¹Ÿæ˜¯ä»è¿™é‡Œæ”¹ã€‚

## åˆ†åŒºæ ¼å¼åŒ–

ä½¿ç”¨ `cfdisk` åˆ†å¥½åŒºï¼Œéœ€è¦åˆ†åˆ«ä¸ºæ¯ä¸ªåˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ã€‚ç„¶è€Œæˆ‘ä½¿ç”¨ nvme ç›˜è€Œçœ‹çš„ sata æŒ‡ä»¤ï¼Œå¯¹ç¡¬ç›˜æ ¼å¼åŒ–è€Œéå¯¹åˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ï¼ˆé”™è¯¯ç¤ºèŒƒï¼š`mkfs.vfat /dev/nvme1n1`ï¼‰ï¼ŒæŠ¥é”™ï¼š

> Partitions or virtual mapping on device, not making file system. (use -I to override)

ç„¶åå°è¯•äº† `-I`ï¼Œç»“æœåˆ†åŒºå…¨æ²¡äº†ï¼›å¯¹ç€ `nvme1n1` `mkswap`ï¼Œåˆ†åŒºåˆç‚¸äº†ï¼ˆå…¨ç›˜æ ¼æˆäº† swapï¼‰ã€‚æœ€åæ‰å‘ç°æ ¼å¼åŒ–æ˜¯åˆ†åŒºæ“ä½œï¼Œè€Œä¸æ˜¯ç¡¬ç›˜æ“ä½œã€‚ã€‚

## æ›´æ–° pacman keyring

é‡åˆ°é—®é¢˜ï¼šä½¿ç”¨ pacman å®‰è£…æ—¶æŠ¥é”™

> error: python-cairo: signature from "Caleb Maclennan <alerque@archlinux.org>" is unknown trust

1. å°è¯•æ‰§è¡Œ `pacman-key --refresh-keys`ï¼Œä½†æ˜¯æ•ˆç‡æ„Ÿäºº
2. [æ®æ­¤æ‰€è¿°](https://www.reddit.com/r/archlinux/comments/sorhb1/how_long_does_a_pacmankey_refreshkeys_take/)ï¼š
   ```sh
   sudo mv /etc/pacman.d/gnupg{,.bak}
   sudo pacman-key --init
   sudo pacman-key --populate archlinux
   ```
   ç„¶è€Œæ²¡ä»€ä¹ˆè½¯ç”¨ï¼Œè¿˜æ˜¯æŠ¥ç›¸åŒé”™è¯¯
3. æ›´æ–° `archlinux-keyring` æœ¬èº«ï¼š`sudo pacman -Sy archlinux-keyring`ï¼Œé—®é¢˜è§£å†³

:::: tip
è£ `archlinux-keyring` å…¶å¯¦å°±æ˜¯åœ¨è·‘ `pacman-key --populate archlinux`
:::right
â€”â€”farseerfc ğŸ˜‚, [src](https://t.me/archlinuxcn_group/2911740)
:::
~~æ‰€ä»¥è¿™ä¸ªé—®é¢˜è¿˜æ˜¯æŒºç„å­¦çš„ï¼Œ~~
::::

## [libcuda.so.1 is not a symbolic link](https://bbs.archlinuxcn.org/viewtopic.php?id=13402)

Windows WSL çš„é”…ï¼Œ[è§£æ³•](https://github.com/microsoft/WSL/issues/5548)ï¼Œä½†è¿˜æœ‰é—®é¢˜æ®‹ç•™ã€‚
